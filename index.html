<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta charset="utf-8">
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    <meta name="generator" content="pandoc" />

        <meta name="author" content="LANDA, Román" />
    
        <meta name="date" content="2024-11-21" />
    
    <title>SERIES DE TIEMPO: Estimador Mensual de Actividad Económica Argentina</title>
    <!-- Material Design fonts -->
    <link rel="stylesheet" type="text/css" href="https://fonts.googleapis.com/css?family=Roboto:300,400,500,700">
    <link rel="stylesheet" type="text/css" href="https://fonts.googleapis.com/icon?family=Material+Icons">

        <script src="index_files/header-attrs-2.28/header-attrs.js"></script>
        <script src="index_files/jquery-3.6.0/jquery-3.6.0.min.js"></script>
        <meta name="viewport" content="width=device-width, initial-scale=1" />
        <link href="index_files/bootstrap-3.3.7/css/bootstrap.min.css" rel="stylesheet" />
        <script src="index_files/bootstrap-3.3.7/js/bootstrap.min.js"></script>
        <script src="index_files/navigation-1.1/tabsets.js"></script>
        <script src="index_files/navigation-1.1/codefolding.js"></script>
        <link href="index_files/magnific-popup-1.1.0/magnific-popup.css" rel="stylesheet" />
        <script src="index_files/magnific-popup-1.1.0/jquery.magnific-popup.min.js"></script>
        <link href="index_files/bootstrap_material-0.1/bootstrap-material-design.min.css" rel="stylesheet" />
        <link href="index_files/bootstrap_material-0.1/ripples.min.css" rel="stylesheet" />
        <script src="index_files/bootstrap_material-0.1/material.min.js"></script>
        <script src="index_files/bootstrap_material-0.1/ripples.min.js"></script>
        <link href="index_files/material-0.1/material.css" rel="stylesheet" />
        <script src="index_files/material-0.1/material.js"></script>
        <script src="index_files/kePrint-0.0.1/kePrint.js"></script>
        <link href="index_files/lightable-0.0.1/lightable.css" rel="stylesheet" />
        <link href="index_files/htmltools-fill-0.5.8.1/fill.css" rel="stylesheet" />
        <script src="index_files/htmlwidgets-1.6.4/htmlwidgets.js"></script>
        <script src="index_files/plotly-binding-4.10.4/plotly.js"></script>
        <script src="index_files/typedarray-0.1/typedarray.min.js"></script>
        <link href="index_files/crosstalk-1.2.1/css/crosstalk.min.css" rel="stylesheet" />
        <script src="index_files/crosstalk-1.2.1/js/crosstalk.min.js"></script>
        <link href="index_files/plotly-htmlwidgets-css-2.11.1/plotly-htmlwidgets.css" rel="stylesheet" />
        <script src="index_files/plotly-main-2.11.1/plotly-latest.min.js"></script>
    
    
        <style type="text/css">code{white-space: pre;}</style>
    <style type="text/css">
      pre > code.sourceCode { white-space: pre; position: relative; }
      pre > code.sourceCode > span { line-height: 1.25; }
      pre > code.sourceCode > span:empty { height: 1.2em; }
      .sourceCode { overflow: visible; }
      code.sourceCode > span { color: inherit; text-decoration: inherit; }
      div.sourceCode { margin: 1em 0; }
      pre.sourceCode { margin: 0; }
      @media screen {
      div.sourceCode { overflow: auto; }
      }
      @media print {
      pre > code.sourceCode { white-space: pre-wrap; }
      pre > code.sourceCode > span { display: inline-block; text-indent: -5em; padding-left: 5em; }
      }
      pre.numberSource code
        { counter-reset: source-line 0; }
      pre.numberSource code > span
        { position: relative; left: -4em; counter-increment: source-line; }
      pre.numberSource code > span > a:first-child::before
        { content: counter(source-line);
          position: relative; left: -1em; text-align: right; vertical-align: baseline;
          border: none; display: inline-block;
          -webkit-touch-callout: none; -webkit-user-select: none;
          -khtml-user-select: none; -moz-user-select: none;
          -ms-user-select: none; user-select: none;
          padding: 0 4px; width: 4em;
          background-color: #ffffff;
          color: #a0a0a0;
        }
      pre.numberSource { margin-left: 3em; border-left: 1px solid #a0a0a0;  padding-left: 4px; }
      div.sourceCode
        { color: #1f1c1b; background-color: #ffffff; }
      @media screen {
      pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
      }
      code span { color: #1f1c1b; } /* Normal */
      code span.al { color: #bf0303; background-color: #f7e6e6; font-weight: bold; } /* Alert */
      code span.an { color: #ca60ca; } /* Annotation */
      code span.at { color: #0057ae; } /* Attribute */
      code span.bn { color: #b08000; } /* BaseN */
      code span.bu { color: #644a9b; font-weight: bold; } /* BuiltIn */
      code span.cf { color: #1f1c1b; font-weight: bold; } /* ControlFlow */
      code span.ch { color: #924c9d; } /* Char */
      code span.cn { color: #aa5500; } /* Constant */
      code span.co { color: #898887; } /* Comment */
      code span.cv { color: #0095ff; } /* CommentVar */
      code span.do { color: #607880; } /* Documentation */
      code span.dt { color: #0057ae; } /* DataType */
      code span.dv { color: #b08000; } /* DecVal */
      code span.er { color: #bf0303; text-decoration: underline; } /* Error */
      code span.ex { color: #0095ff; font-weight: bold; } /* Extension */
      code span.fl { color: #b08000; } /* Float */
      code span.fu { color: #644a9b; } /* Function */
      code span.im { color: #ff5500; } /* Import */
      code span.in { color: #b08000; } /* Information */
      code span.kw { color: #1f1c1b; font-weight: bold; } /* Keyword */
      code span.op { color: #1f1c1b; } /* Operator */
      code span.ot { color: #006e28; } /* Other */
      code span.pp { color: #006e28; } /* Preprocessor */
      code span.re { color: #0057ae; background-color: #e0e9f8; } /* RegionMarker */
      code span.sc { color: #3daee9; } /* SpecialChar */
      code span.ss { color: #ff5500; } /* SpecialString */
      code span.st { color: #bf0303; } /* String */
      code span.va { color: #0057ae; } /* Variable */
      code span.vs { color: #bf0303; } /* VerbatimString */
      code span.wa { color: #bf0303; } /* Warning */
    </style>
    
    
    <!-- tabsets -->
    <script>
      $(document).ready(function () {
	  window.buildTabsets("toc");
      });
      $(document).ready(function () {
	  $('.tabset-dropdown > .nav-tabs > li').click(function () {
	      $(this).parent().toggleClass('nav-tabs-open')
	  });
      });
    </script>

    <!-- code folding -->
        <script>
      $(document).ready(function () {
	  	  	  window.initializeCodeFolding("hide" === "show");
	        });
    </script>
    
    <!-- code download -->
    

    <!-- tabsets dropdown -->

    <style type="text/css">
      .tabset-dropdown > .nav-tabs {
	  display: inline-table;
	  max-height: 500px;
	  min-height: 44px;
	  overflow-y: auto;
	  background: white;
	  border: 1px solid #ddd;
	  border-radius: 4px;
      }
      
      .tabset-dropdown > .nav-tabs > li.active:before {
	  content: "";
	  font-family: 'Glyphicons Halflings';
	  display: inline-block;
	  padding: 10px;
	  border-right: 1px solid #ddd;
      }
      
      .tabset-dropdown > .nav-tabs.nav-tabs-open > li.active:before {
	  content: "&#xe258;";
	  border: none;
      }
      
      .tabset-dropdown > .nav-tabs.nav-tabs-open:before {
	  content: "";
	  font-family: 'Glyphicons Halflings';
	  display: inline-block;
	  padding: 10px;
	  border-right: 1px solid #ddd;
      }
      
      .pages .tabset-dropdown > .nav-tabs > li.active {
	  display: block;
      }

      .pages .tabset-dropdown > .nav-tabs > li.active > a {
	  background-color: transparent !important;
	  color: #000000 !important;
      }
      
      .tabset-dropdown > .nav-tabs > li > a,
      .tabset-dropdown > .nav-tabs > li > a:focus,
      .tabset-dropdown > .nav-tabs > li > a:hover {
	  border: none;
	  display: inline-block;
	  border-radius: 4px;
	  background-color: transparent;
	  color: #00A698 !important;
	  font-weight: 300 !important;
	  font-size: 14px;
      }
      
      .tabset-dropdown > .nav-tabs.nav-tabs-open > li {
	  display: block;
	  float: none;
      }
      
      .tabset-dropdown > .nav-tabs > li {
	  display: none;
      }
    </style>
    
</head>

<body>

  <div class="header-panel shadow z-2">
    <div class="container-fluid">
      <div class="row">
        <div class="col-xs-3">
	  	  <div id="header">
	    <h1 class="title">SERIES DE TIEMPO: Estimador Mensual de Actividad
Económica Argentina</h1>
	    	    	    	    <h4 class="author">LANDA, Román</h4>
	    	    	    	    <h4 class="date">2024-11-21</h4>
	    	  </div>
	  	</div>
      </div>
    </div>
  </div>
  
  <div class="container-fluid main-container">
    <div class="row">

<nav class="col-xs-3 menu">
<div id="toc">
<ul>
<li><a href="#intrducción" id="toc-intrducción">Intrducción</a></li>
<li><a href="#objetivo" id="toc-objetivo">Objetivo</a></li>
<li><a href="#datos" id="toc-datos">Datos</a></li>
<li><a href="#identificación-de-serie"
id="toc-identificación-de-serie">Identificación de Serie</a></li>
<li><a href="#diagnostico-del-modelo"
id="toc-diagnostico-del-modelo">Diagnostico del Modelo</a></li>
<li><a href="#predicción" id="toc-predicción">Predicción</a></li>
<li><a href="#discusión" id="toc-discusión">Discusión</a></li>
<li><a href="#bibliografia" id="toc-bibliografia">Bibliografia</a></li>
</ul>
</div>
</nav>
      
<div class="pages col-xs-9">


    
<div class="row">

<div class="col-xs-10">
<div id="intrducción" class="section level1">
<h1>Intrducción</h1>
<p>El Estimador Mensual de Actividad Económica (EMAE) refleja la
evolución mensual de la actividad económica del conjunto de los sectores
productivos a nivel nacional. Este es un indicador provisorio de la
evolución del PIB a precios constantes de 2004 que será difundido con un
rezago de 50 a 60 días de concluido el mes de referencia.</p>
<p>El indicador es un índice Laspeyres que ofrece una pauta del
comportamiento de la actividad económica real con una frecuencia mayor a
la del PIB trimestral a precios constantes. Su cálculo se estructura en
la agregación del valor agregado a precios básicos de cada una de las
actividades económicas más los impuestos netos de subsidios a los
productos, utilizando las ponderaciones de las cuentas nacionales base
2004 de la República Argentina. Se trata de replicar los métodos de
cálculo del PIB trimestral y/o anual, en la medida en que lo permite la
disponibilidad de fuentes de información para un período más corto.</p>
<p>Es necesario enfatizar que el EMAE se elabora con información
parcial, de carácter provisorio -dado que en algunos casos es corregida
y/o completada por la fuente- o con indicadores alternativos a los que
se utilizan para el cálculo trimestral, en tanto se han evaluado como
adecuadas aproximaciones a éstos. Dado que la estimación del PIB
trimestral reúne mayor cantidad de datos, por cerrarse y difundirse unos
30 días después que el EMAE, es habitual que se observen diferencias
entre las variaciones trimestrales de ambos indicadores.</p>
</div>
<div id="objetivo" class="section level1">
<h1>Objetivo</h1>
<p>El objetivo de este informe es aplicar de manera práctica las
herramientas analíticas adquiridas en la cátedra de Series de Tiempo,
mediante un análisis descriptivo y predictivo de series temporales
reales. Se busca así fortalecer la comprensión de los métodos estudiados
y su aplicación en datos económicos, evaluando tanto las tendencias
históricas como las posibles proyecciones del comportamiento económico
en el corto y mediano plazo.</p>
</div>
<div id="datos" class="section level1">
<h1>Datos</h1>
<p>La API de Series de Tiempo de Argentina permite consultar indicadores
con evolución cronológica publicados en formatos abiertos por organismos
de la Administración Pública Nacional. Haremos uso de dicha API para
traer la serie <a
href="https://datos.gob.ar/series/api/series/?ids=143.3_NO_PR_2004_A_21">EMAE.
Base 2004</a></p>
<div class="sourceCode" id="cb1"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb1-1"><a href="#cb1-1" tabindex="-1"></a><span class="fu">source</span>(<span class="st">&quot;enviroment.R&quot;</span>)</span>
<span id="cb1-2"><a href="#cb1-2" tabindex="-1"></a><span class="co"># API EMAE datos.gob</span></span>
<span id="cb1-3"><a href="#cb1-3" tabindex="-1"></a>emae_mensual <span class="ot">&lt;-</span> <span class="fu">read.csv</span>(<span class="st">&quot;https://infra.datos.gob.ar/catalog/sspm/dataset/143/distribution/143.3/download/emae-valores-anuales-indice-base-2004-mensual.csv&quot;</span>)</span>
<span id="cb1-4"><a href="#cb1-4" tabindex="-1"></a></span>
<span id="cb1-5"><a href="#cb1-5" tabindex="-1"></a><span class="co"># Extrae el año</span></span>
<span id="cb1-6"><a href="#cb1-6" tabindex="-1"></a>emae_mensual<span class="sc">$</span>indice_tiempo <span class="ot">&lt;-</span> <span class="fu">as.Date</span>(emae_mensual<span class="sc">$</span>indice_tiempo, <span class="at">format =</span> <span class="st">&quot;%Y-%m-%d&quot;</span>) </span>
<span id="cb1-7"><a href="#cb1-7" tabindex="-1"></a>emae_mensual<span class="sc">$</span>year <span class="ot">&lt;-</span> <span class="fu">year</span>(emae_mensual<span class="sc">$</span>indice_tiempo)</span>
<span id="cb1-8"><a href="#cb1-8" tabindex="-1"></a>emae_mensual<span class="sc">$</span>periodo <span class="ot">&lt;-</span> <span class="fu">format</span>(emae_mensual<span class="sc">$</span>indice_tiempo, <span class="st">&quot;%Y-%m&quot;</span>)</span>
<span id="cb1-9"><a href="#cb1-9" tabindex="-1"></a><span class="co"># Filtrar por si publican nuevos valores</span></span>
<span id="cb1-10"><a href="#cb1-10" tabindex="-1"></a>emae_mensual <span class="ot">&lt;-</span> emae_mensual <span class="sc">%&gt;%</span></span>
<span id="cb1-11"><a href="#cb1-11" tabindex="-1"></a>  <span class="fu">filter</span>(periodo <span class="sc">&lt;=</span> <span class="st">&quot;2024-08&quot;</span>) <span class="sc">%&gt;%</span> </span>
<span id="cb1-12"><a href="#cb1-12" tabindex="-1"></a>  <span class="fu">select</span>(<span class="sc">-</span><span class="fu">c</span>(emae_tendencia_ciclo, </span>
<span id="cb1-13"><a href="#cb1-13" tabindex="-1"></a>            emae_original_via, </span>
<span id="cb1-14"><a href="#cb1-14" tabindex="-1"></a>            emae_desestacionalizada_vm, </span>
<span id="cb1-15"><a href="#cb1-15" tabindex="-1"></a>            emae_tendencia_ciclo_vm))</span>
<span id="cb1-16"><a href="#cb1-16" tabindex="-1"></a></span>
<span id="cb1-17"><a href="#cb1-17" tabindex="-1"></a><span class="fu">kable</span>(<span class="fu">tail</span>(emae_mensual), </span>
<span id="cb1-18"><a href="#cb1-18" tabindex="-1"></a>      <span class="at">format =</span> <span class="st">&quot;html&quot;</span>, </span>
<span id="cb1-19"><a href="#cb1-19" tabindex="-1"></a>      <span class="at">table.attr =</span> <span class="st">&quot;class=&#39;table table-striped&#39;&quot;</span>) <span class="sc">%&gt;%</span></span>
<span id="cb1-20"><a href="#cb1-20" tabindex="-1"></a>  <span class="fu">kable_styling</span>() <span class="sc">%&gt;%</span></span>
<span id="cb1-21"><a href="#cb1-21" tabindex="-1"></a>  <span class="fu">row_spec</span>(<span class="dv">0</span>, <span class="at">bold =</span> T, <span class="at">background =</span> <span class="st">&quot;cyan4&quot;</span>, <span class="at">color =</span> <span class="st">&quot;white&quot;</span>)</span></code></pre></div>
<table class="table table-striped table" style="color: black; margin-left: auto; margin-right: auto;">
<thead>
<tr>
<th style="text-align:left;font-weight: bold;color: white !important;background-color: rgba(0, 139, 139, 255) !important;">
</th>
<th style="text-align:left;font-weight: bold;color: white !important;background-color: rgba(0, 139, 139, 255) !important;">
indice_tiempo
</th>
<th style="text-align:right;font-weight: bold;color: white !important;background-color: rgba(0, 139, 139, 255) !important;">
emae_original
</th>
<th style="text-align:right;font-weight: bold;color: white !important;background-color: rgba(0, 139, 139, 255) !important;">
emae_desestacionalizada
</th>
<th style="text-align:right;font-weight: bold;color: white !important;background-color: rgba(0, 139, 139, 255) !important;">
year
</th>
<th style="text-align:left;font-weight: bold;color: white !important;background-color: rgba(0, 139, 139, 255) !important;">
periodo
</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:left;">
243
</td>
<td style="text-align:left;">
2024-03-01
</td>
<td style="text-align:right;">
142.3900
</td>
<td style="text-align:right;">
140.7345
</td>
<td style="text-align:right;">
2024
</td>
<td style="text-align:left;">
2024-03
</td>
</tr>
<tr>
<td style="text-align:left;">
244
</td>
<td style="text-align:left;">
2024-04-01
</td>
<td style="text-align:right;">
145.5461
</td>
<td style="text-align:right;">
139.2429
</td>
<td style="text-align:right;">
2024
</td>
<td style="text-align:left;">
2024-04
</td>
</tr>
<tr>
<td style="text-align:left;">
245
</td>
<td style="text-align:left;">
2024-05-01
</td>
<td style="text-align:right;">
154.9449
</td>
<td style="text-align:right;">
140.1355
</td>
<td style="text-align:right;">
2024
</td>
<td style="text-align:left;">
2024-05
</td>
</tr>
<tr>
<td style="text-align:left;">
246
</td>
<td style="text-align:left;">
2024-06-01
</td>
<td style="text-align:right;">
145.4613
</td>
<td style="text-align:right;">
139.4089
</td>
<td style="text-align:right;">
2024
</td>
<td style="text-align:left;">
2024-06
</td>
</tr>
<tr>
<td style="text-align:left;">
247
</td>
<td style="text-align:left;">
2024-07-01
</td>
<td style="text-align:right;">
147.5739
</td>
<td style="text-align:right;">
142.3072
</td>
<td style="text-align:right;">
2024
</td>
<td style="text-align:left;">
2024-07
</td>
</tr>
<tr>
<td style="text-align:left;">
248
</td>
<td style="text-align:left;">
2024-08-01
</td>
<td style="text-align:right;">
144.9507
</td>
<td style="text-align:right;">
142.5625
</td>
<td style="text-align:right;">
2024
</td>
<td style="text-align:left;">
2024-08
</td>
</tr>
</tbody>
</table>
<p>Vemos que actualmente tenemos valores publicados hasta el mes de
agosto de 2024. Decidimos guardar todos los meses de dicho año para
luego comparar con nuestras predicciones.</p>
<div class="sourceCode" id="cb2"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb2-1"><a href="#cb2-1" tabindex="-1"></a>values_to_predict <span class="ot">&lt;-</span> <span class="fu">tail</span>(emae_mensual<span class="sc">$</span>emae_original, <span class="dv">8</span>)</span>
<span id="cb2-2"><a href="#cb2-2" tabindex="-1"></a><span class="co"># Eliminar los últimos 8 registros de emae_mensual</span></span>
<span id="cb2-3"><a href="#cb2-3" tabindex="-1"></a>emae_mensual <span class="ot">&lt;-</span> emae_mensual[<span class="dv">1</span><span class="sc">:</span>(<span class="fu">nrow</span>(emae_mensual) <span class="sc">-</span> <span class="dv">8</span>), ]</span>
<span id="cb2-4"><a href="#cb2-4" tabindex="-1"></a></span>
<span id="cb2-5"><a href="#cb2-5" tabindex="-1"></a>emae_mensual<span class="sc">$</span>year_factor <span class="ot">&lt;-</span> <span class="fu">as.factor</span>(emae_mensual<span class="sc">$</span>year)</span>
<span id="cb2-6"><a href="#cb2-6" tabindex="-1"></a><span class="co"># Creo un Time Serie object</span></span>
<span id="cb2-7"><a href="#cb2-7" tabindex="-1"></a>emae_mensual_ts <span class="ot">&lt;-</span> emae_mensual <span class="sc">%&gt;%</span></span>
<span id="cb2-8"><a href="#cb2-8" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">periodo =</span> <span class="fu">yearmonth</span>(periodo)) <span class="sc">%&gt;%</span>  </span>
<span id="cb2-9"><a href="#cb2-9" tabindex="-1"></a>  <span class="fu">as_tsibble</span>(<span class="at">index =</span> periodo)</span></code></pre></div>
</div>
<div id="identificación-de-serie" class="section level1">
<h1>Identificación de Serie</h1>
<p><strong><em>AVISO: puede cliquear los gráficos para
ampliarlos</em></strong></p>
<p>En primera instancia, queremos usar nuestros conocimientos para
identificar un modelo que ajuste correctamente a nuestros datos de forma
“manual”. Es por esto que comenzamos observando la evolución del EMAE en
el tiempo (con base 100 al inicio de 2004).</p>
<div class="sourceCode" id="cb3"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb3-1"><a href="#cb3-1" tabindex="-1"></a>s1 <span class="ot">&lt;-</span> <span class="fu">ggplot</span>(emae_mensual_ts, <span class="fu">aes</span>(<span class="at">x =</span> indice_tiempo, <span class="at">y =</span> emae_original)) <span class="sc">+</span> </span>
<span id="cb3-2"><a href="#cb3-2" tabindex="-1"></a>  <span class="fu">geom_line</span>(<span class="at">color =</span> <span class="st">&quot;cyan4&quot;</span>) <span class="sc">+</span></span>
<span id="cb3-3"><a href="#cb3-3" tabindex="-1"></a>  <span class="fu">labs</span>(<span class="at">title =</span> <span class="st">&quot;Serie de Tiempo EMAE&quot;</span>, <span class="at">x =</span> <span class="st">&quot;Fecha&quot;</span>, <span class="at">y =</span> <span class="st">&quot;Indice 2004 = 100&quot;</span>) <span class="sc">+</span></span>
<span id="cb3-4"><a href="#cb3-4" tabindex="-1"></a>  <span class="fu">theme_minimal</span>()</span>
<span id="cb3-5"><a href="#cb3-5" tabindex="-1"></a><span class="fu">ggplotly</span>(s1)</span></code></pre></div>
<div class="plotly html-widget html-fill-item" id="htmlwidget-ed508731eddec02154b7" style="width:100%;height:288px;"></div>
<script type="application/json" data-for="htmlwidget-ed508731eddec02154b7">{"x":{"data":[{"x":[12418,12449,12478,12509,12539,12570,12600,12631,12662,12692,12723,12753,12784,12815,12843,12874,12904,12935,12965,12996,13027,13057,13088,13118,13149,13180,13208,13239,13269,13300,13330,13361,13392,13422,13453,13483,13514,13545,13573,13604,13634,13665,13695,13726,13757,13787,13818,13848,13879,13910,13939,13970,14000,14031,14061,14092,14123,14153,14184,14214,14245,14276,14304,14335,14365,14396,14426,14457,14488,14518,14549,14579,14610,14641,14669,14700,14730,14761,14791,14822,14853,14883,14914,14944,14975,15006,15034,15065,15095,15126,15156,15187,15218,15248,15279,15309,15340,15371,15400,15431,15461,15492,15522,15553,15584,15614,15645,15675,15706,15737,15765,15796,15826,15857,15887,15918,15949,15979,16010,16040,16071,16102,16130,16161,16191,16222,16252,16283,16314,16344,16375,16405,16436,16467,16495,16526,16556,16587,16617,16648,16679,16709,16740,16770,16801,16832,16861,16892,16922,16953,16983,17014,17045,17075,17106,17136,17167,17198,17226,17257,17287,17318,17348,17379,17410,17440,17471,17501,17532,17563,17591,17622,17652,17683,17713,17744,17775,17805,17836,17866,17897,17928,17956,17987,18017,18048,18078,18109,18140,18170,18201,18231,18262,18293,18322,18353,18383,18414,18444,18475,18506,18536,18567,18597,18628,18659,18687,18718,18748,18779,18809,18840,18871,18901,18932,18962,18993,19024,19052,19083,19113,19144,19174,19205,19236,19266,19297,19327,19358,19389,19417,19448,19478,19509,19539,19570,19601,19631,19662,19692],"y":[92.627506026910524,90.186179316559588,101.88329804238073,102.5674302511826,109.87750394051662,105.66240620209851,101.1069972900212,98.355736942437574,98.086374534696375,97.835665980979897,100.13194668122139,101.67895479099535,98.473359529179007,96.118866133434054,110.65642586719524,116.54519048214907,126.66194335502726,116.50222321492875,107.58113926245956,105.82089279310111,104.89213472672316,104.46066538498441,108.00375438454834,110.50332389924424,106.53094787692405,104.0901370432872,118.58827645043104,122.08710730131627,133.37101567477424,124.29274775102324,117.04563185352679,116.30360797574892,114.80248033323909,116.47750825324563,118.14078229406633,119.60317208093002,114.70176482722367,112.74324828605302,129.28276498944658,133.46308313008805,147.60791074167543,136.12098630494512,127.38755189795539,126.59522767863001,123.5104632944452,128.41538266104467,129.73508945617357,128.89792837498598,126.22689251081431,122.8249045091645,132.33412728743554,145.28049855207212,154.15616391286648,140.50348421669764,136.63868805371584,131.34092143552698,132.18593848988462,130.39517884255912,125.52756329262156,123.46600579407662,116.75841920206521,114.85886148592792,126.16560261026108,127.99055887450351,133.03567047814315,129.31265804805898,127.36305837501411,124.00328620894652,126.18512812472765,127.07986188269525,127.09219178029132,126.28656380555832,121.50567852923163,119.82280209203972,136.89550162046118,145.77413149301782,158.11063153043881,149.86155200805445,139.50568662872732,137.24598068715568,136.69642672162283,135.13884450692316,139.59882328372223,138.47764951271685,133.07691971855189,129.50988684262188,147.00183909502377,151.03582303961804,166.17834208101743,156.69365851225533,146.37808828046835,146.3985053847187,147.17090682127099,145.05000242779931,146.36164512416551,143.36165785374328,136.19408129361287,132.36052594074121,147.44101624495764,145.52027831854522,157.40418371936033,149.03310174150511,146.86279961903688,145.69325698881013,142.47153651731426,147.23130295530083,146.37343184468628,143.58505809958143,136.51707182504433,132.79532196495501,149.40394566736484,155.94159584157654,167.97347912253019,156.27186443024067,150.73100129825897,148.42144953050052,147.0048441881334,148.6939593959755,145.69589762827002,142.5768791271264,137.96969739537636,132.48630687243056,144.53782808347017,152.34143546147135,164.20324390256107,153.80352402990053,145.42281373408593,140.10530396605887,141.71873319955728,143.34939741761289,140.87759689826311,140.43593774912819,133.99818907035032,132.62788695577399,149.4090129833281,157.4845995373143,168.88610058983411,162.93739000912225,151.84479634306331,146.46506720486232,145.88232371860067,147.04587615341626,146.175581385648,141.9421187346255,134.74645041349706,134.23236103862521,150.0878942366954,153.25067436662908,163.51360808690507,153.66209524099784,143.73110098180126,143.6741026486049,142.00773744282046,141.13686329808141,144.93832064073018,142.59014516031914,136.63265948316206,132.15851633982271,152.6209585590573,151.94634480448732,168.38920946936776,161.03568546945229,150.30605012391993,149.25534277384108,146.38655965775379,149.38594966601448,151.92604285202691,146.78338490922448,142.74091260617226,138.8180403516574,155.85731953576956,151.52454398394295,159.56669237791647,151.12576323345576,145.96352443000646,146.76596003414045,137.74656971864525,142.84327598455894,140.59240732533195,136.25161596906852,134.53623985673468,132.26788861275296,144.96325495569374,149.91622140334627,164.13569907584596,150.85897174138188,146.77702964086896,141.27693468117695,134.87706647880103,141.6393366133961,137.77182966780643,135.76515453277756,133.89108610595738,128.97363875350504,128.21106071696462,113.29503437159005,131.0295691660663,132.52196537198179,127.46368980591313,125.18389390153251,127.17507561554753,131.34550037217323,132.06865461127063,133.85436775868672,131.52154429238425,126.23926987487661,145.95689030206921,147.28081278955358,151.16930917453971,148.97966150182666,142.42605450402064,140.97500035125495,141.2958880231437,139.5141180714873,143.75160757157784,147.23078899363611,139.46393618095945,138.00627023452296,153.92755975942296,156.07720298707443,163.1169209317496,159.60238464157831,151.36803877512625,150.48692297482046,148.30621498849308,144.90675648008252,146.5032300333165,144.49762202987208,143.02667812567447,137.60337495838098,155.36191563919746,149.13939542809894,152.72491353284434,151.64682485808871,148.9520606213155,150.72812492463484,147.54797773000911,146.67763411363745,145.52988172542135,138.38645136460997],"text":["indice_tiempo: 2004-01-01<br />emae_original:  92.62751","indice_tiempo: 2004-02-01<br />emae_original:  90.18618","indice_tiempo: 2004-03-01<br />emae_original: 101.88330","indice_tiempo: 2004-04-01<br />emae_original: 102.56743","indice_tiempo: 2004-05-01<br />emae_original: 109.87750","indice_tiempo: 2004-06-01<br />emae_original: 105.66241","indice_tiempo: 2004-07-01<br />emae_original: 101.10700","indice_tiempo: 2004-08-01<br />emae_original:  98.35574","indice_tiempo: 2004-09-01<br />emae_original:  98.08637","indice_tiempo: 2004-10-01<br />emae_original:  97.83567","indice_tiempo: 2004-11-01<br />emae_original: 100.13195","indice_tiempo: 2004-12-01<br />emae_original: 101.67895","indice_tiempo: 2005-01-01<br />emae_original:  98.47336","indice_tiempo: 2005-02-01<br />emae_original:  96.11887","indice_tiempo: 2005-03-01<br />emae_original: 110.65643","indice_tiempo: 2005-04-01<br />emae_original: 116.54519","indice_tiempo: 2005-05-01<br />emae_original: 126.66194","indice_tiempo: 2005-06-01<br />emae_original: 116.50222","indice_tiempo: 2005-07-01<br />emae_original: 107.58114","indice_tiempo: 2005-08-01<br />emae_original: 105.82089","indice_tiempo: 2005-09-01<br />emae_original: 104.89213","indice_tiempo: 2005-10-01<br />emae_original: 104.46067","indice_tiempo: 2005-11-01<br />emae_original: 108.00375","indice_tiempo: 2005-12-01<br />emae_original: 110.50332","indice_tiempo: 2006-01-01<br />emae_original: 106.53095","indice_tiempo: 2006-02-01<br />emae_original: 104.09014","indice_tiempo: 2006-03-01<br />emae_original: 118.58828","indice_tiempo: 2006-04-01<br />emae_original: 122.08711","indice_tiempo: 2006-05-01<br />emae_original: 133.37102","indice_tiempo: 2006-06-01<br />emae_original: 124.29275","indice_tiempo: 2006-07-01<br />emae_original: 117.04563","indice_tiempo: 2006-08-01<br />emae_original: 116.30361","indice_tiempo: 2006-09-01<br />emae_original: 114.80248","indice_tiempo: 2006-10-01<br />emae_original: 116.47751","indice_tiempo: 2006-11-01<br />emae_original: 118.14078","indice_tiempo: 2006-12-01<br />emae_original: 119.60317","indice_tiempo: 2007-01-01<br />emae_original: 114.70176","indice_tiempo: 2007-02-01<br />emae_original: 112.74325","indice_tiempo: 2007-03-01<br />emae_original: 129.28276","indice_tiempo: 2007-04-01<br />emae_original: 133.46308","indice_tiempo: 2007-05-01<br />emae_original: 147.60791","indice_tiempo: 2007-06-01<br />emae_original: 136.12099","indice_tiempo: 2007-07-01<br />emae_original: 127.38755","indice_tiempo: 2007-08-01<br />emae_original: 126.59523","indice_tiempo: 2007-09-01<br />emae_original: 123.51046","indice_tiempo: 2007-10-01<br />emae_original: 128.41538","indice_tiempo: 2007-11-01<br />emae_original: 129.73509","indice_tiempo: 2007-12-01<br />emae_original: 128.89793","indice_tiempo: 2008-01-01<br />emae_original: 126.22689","indice_tiempo: 2008-02-01<br />emae_original: 122.82490","indice_tiempo: 2008-03-01<br />emae_original: 132.33413","indice_tiempo: 2008-04-01<br />emae_original: 145.28050","indice_tiempo: 2008-05-01<br />emae_original: 154.15616","indice_tiempo: 2008-06-01<br />emae_original: 140.50348","indice_tiempo: 2008-07-01<br />emae_original: 136.63869","indice_tiempo: 2008-08-01<br />emae_original: 131.34092","indice_tiempo: 2008-09-01<br />emae_original: 132.18594","indice_tiempo: 2008-10-01<br />emae_original: 130.39518","indice_tiempo: 2008-11-01<br />emae_original: 125.52756","indice_tiempo: 2008-12-01<br />emae_original: 123.46601","indice_tiempo: 2009-01-01<br />emae_original: 116.75842","indice_tiempo: 2009-02-01<br />emae_original: 114.85886","indice_tiempo: 2009-03-01<br />emae_original: 126.16560","indice_tiempo: 2009-04-01<br />emae_original: 127.99056","indice_tiempo: 2009-05-01<br />emae_original: 133.03567","indice_tiempo: 2009-06-01<br />emae_original: 129.31266","indice_tiempo: 2009-07-01<br />emae_original: 127.36306","indice_tiempo: 2009-08-01<br />emae_original: 124.00329","indice_tiempo: 2009-09-01<br />emae_original: 126.18513","indice_tiempo: 2009-10-01<br />emae_original: 127.07986","indice_tiempo: 2009-11-01<br />emae_original: 127.09219","indice_tiempo: 2009-12-01<br />emae_original: 126.28656","indice_tiempo: 2010-01-01<br />emae_original: 121.50568","indice_tiempo: 2010-02-01<br />emae_original: 119.82280","indice_tiempo: 2010-03-01<br />emae_original: 136.89550","indice_tiempo: 2010-04-01<br />emae_original: 145.77413","indice_tiempo: 2010-05-01<br />emae_original: 158.11063","indice_tiempo: 2010-06-01<br />emae_original: 149.86155","indice_tiempo: 2010-07-01<br />emae_original: 139.50569","indice_tiempo: 2010-08-01<br />emae_original: 137.24598","indice_tiempo: 2010-09-01<br />emae_original: 136.69643","indice_tiempo: 2010-10-01<br />emae_original: 135.13884","indice_tiempo: 2010-11-01<br />emae_original: 139.59882","indice_tiempo: 2010-12-01<br />emae_original: 138.47765","indice_tiempo: 2011-01-01<br />emae_original: 133.07692","indice_tiempo: 2011-02-01<br />emae_original: 129.50989","indice_tiempo: 2011-03-01<br />emae_original: 147.00184","indice_tiempo: 2011-04-01<br />emae_original: 151.03582","indice_tiempo: 2011-05-01<br />emae_original: 166.17834","indice_tiempo: 2011-06-01<br />emae_original: 156.69366","indice_tiempo: 2011-07-01<br />emae_original: 146.37809","indice_tiempo: 2011-08-01<br />emae_original: 146.39851","indice_tiempo: 2011-09-01<br />emae_original: 147.17091","indice_tiempo: 2011-10-01<br />emae_original: 145.05000","indice_tiempo: 2011-11-01<br />emae_original: 146.36165","indice_tiempo: 2011-12-01<br />emae_original: 143.36166","indice_tiempo: 2012-01-01<br />emae_original: 136.19408","indice_tiempo: 2012-02-01<br />emae_original: 132.36053","indice_tiempo: 2012-03-01<br />emae_original: 147.44102","indice_tiempo: 2012-04-01<br />emae_original: 145.52028","indice_tiempo: 2012-05-01<br />emae_original: 157.40418","indice_tiempo: 2012-06-01<br />emae_original: 149.03310","indice_tiempo: 2012-07-01<br />emae_original: 146.86280","indice_tiempo: 2012-08-01<br />emae_original: 145.69326","indice_tiempo: 2012-09-01<br />emae_original: 142.47154","indice_tiempo: 2012-10-01<br />emae_original: 147.23130","indice_tiempo: 2012-11-01<br />emae_original: 146.37343","indice_tiempo: 2012-12-01<br />emae_original: 143.58506","indice_tiempo: 2013-01-01<br />emae_original: 136.51707","indice_tiempo: 2013-02-01<br />emae_original: 132.79532","indice_tiempo: 2013-03-01<br />emae_original: 149.40395","indice_tiempo: 2013-04-01<br />emae_original: 155.94160","indice_tiempo: 2013-05-01<br />emae_original: 167.97348","indice_tiempo: 2013-06-01<br />emae_original: 156.27186","indice_tiempo: 2013-07-01<br />emae_original: 150.73100","indice_tiempo: 2013-08-01<br />emae_original: 148.42145","indice_tiempo: 2013-09-01<br />emae_original: 147.00484","indice_tiempo: 2013-10-01<br />emae_original: 148.69396","indice_tiempo: 2013-11-01<br />emae_original: 145.69590","indice_tiempo: 2013-12-01<br />emae_original: 142.57688","indice_tiempo: 2014-01-01<br />emae_original: 137.96970","indice_tiempo: 2014-02-01<br />emae_original: 132.48631","indice_tiempo: 2014-03-01<br />emae_original: 144.53783","indice_tiempo: 2014-04-01<br />emae_original: 152.34144","indice_tiempo: 2014-05-01<br />emae_original: 164.20324","indice_tiempo: 2014-06-01<br />emae_original: 153.80352","indice_tiempo: 2014-07-01<br />emae_original: 145.42281","indice_tiempo: 2014-08-01<br />emae_original: 140.10530","indice_tiempo: 2014-09-01<br />emae_original: 141.71873","indice_tiempo: 2014-10-01<br />emae_original: 143.34940","indice_tiempo: 2014-11-01<br />emae_original: 140.87760","indice_tiempo: 2014-12-01<br />emae_original: 140.43594","indice_tiempo: 2015-01-01<br />emae_original: 133.99819","indice_tiempo: 2015-02-01<br />emae_original: 132.62789","indice_tiempo: 2015-03-01<br />emae_original: 149.40901","indice_tiempo: 2015-04-01<br />emae_original: 157.48460","indice_tiempo: 2015-05-01<br />emae_original: 168.88610","indice_tiempo: 2015-06-01<br />emae_original: 162.93739","indice_tiempo: 2015-07-01<br />emae_original: 151.84480","indice_tiempo: 2015-08-01<br />emae_original: 146.46507","indice_tiempo: 2015-09-01<br />emae_original: 145.88232","indice_tiempo: 2015-10-01<br />emae_original: 147.04588","indice_tiempo: 2015-11-01<br />emae_original: 146.17558","indice_tiempo: 2015-12-01<br />emae_original: 141.94212","indice_tiempo: 2016-01-01<br />emae_original: 134.74645","indice_tiempo: 2016-02-01<br />emae_original: 134.23236","indice_tiempo: 2016-03-01<br />emae_original: 150.08789","indice_tiempo: 2016-04-01<br />emae_original: 153.25067","indice_tiempo: 2016-05-01<br />emae_original: 163.51361","indice_tiempo: 2016-06-01<br />emae_original: 153.66210","indice_tiempo: 2016-07-01<br />emae_original: 143.73110","indice_tiempo: 2016-08-01<br />emae_original: 143.67410","indice_tiempo: 2016-09-01<br />emae_original: 142.00774","indice_tiempo: 2016-10-01<br />emae_original: 141.13686","indice_tiempo: 2016-11-01<br />emae_original: 144.93832","indice_tiempo: 2016-12-01<br />emae_original: 142.59015","indice_tiempo: 2017-01-01<br />emae_original: 136.63266","indice_tiempo: 2017-02-01<br />emae_original: 132.15852","indice_tiempo: 2017-03-01<br />emae_original: 152.62096","indice_tiempo: 2017-04-01<br />emae_original: 151.94634","indice_tiempo: 2017-05-01<br />emae_original: 168.38921","indice_tiempo: 2017-06-01<br />emae_original: 161.03569","indice_tiempo: 2017-07-01<br />emae_original: 150.30605","indice_tiempo: 2017-08-01<br />emae_original: 149.25534","indice_tiempo: 2017-09-01<br />emae_original: 146.38656","indice_tiempo: 2017-10-01<br />emae_original: 149.38595","indice_tiempo: 2017-11-01<br />emae_original: 151.92604","indice_tiempo: 2017-12-01<br />emae_original: 146.78338","indice_tiempo: 2018-01-01<br />emae_original: 142.74091","indice_tiempo: 2018-02-01<br />emae_original: 138.81804","indice_tiempo: 2018-03-01<br />emae_original: 155.85732","indice_tiempo: 2018-04-01<br />emae_original: 151.52454","indice_tiempo: 2018-05-01<br />emae_original: 159.56669","indice_tiempo: 2018-06-01<br />emae_original: 151.12576","indice_tiempo: 2018-07-01<br />emae_original: 145.96352","indice_tiempo: 2018-08-01<br />emae_original: 146.76596","indice_tiempo: 2018-09-01<br />emae_original: 137.74657","indice_tiempo: 2018-10-01<br />emae_original: 142.84328","indice_tiempo: 2018-11-01<br />emae_original: 140.59241","indice_tiempo: 2018-12-01<br />emae_original: 136.25162","indice_tiempo: 2019-01-01<br />emae_original: 134.53624","indice_tiempo: 2019-02-01<br />emae_original: 132.26789","indice_tiempo: 2019-03-01<br />emae_original: 144.96325","indice_tiempo: 2019-04-01<br />emae_original: 149.91622","indice_tiempo: 2019-05-01<br />emae_original: 164.13570","indice_tiempo: 2019-06-01<br />emae_original: 150.85897","indice_tiempo: 2019-07-01<br />emae_original: 146.77703","indice_tiempo: 2019-08-01<br />emae_original: 141.27693","indice_tiempo: 2019-09-01<br />emae_original: 134.87707","indice_tiempo: 2019-10-01<br />emae_original: 141.63934","indice_tiempo: 2019-11-01<br />emae_original: 137.77183","indice_tiempo: 2019-12-01<br />emae_original: 135.76515","indice_tiempo: 2020-01-01<br />emae_original: 133.89109","indice_tiempo: 2020-02-01<br />emae_original: 128.97364","indice_tiempo: 2020-03-01<br />emae_original: 128.21106","indice_tiempo: 2020-04-01<br />emae_original: 113.29503","indice_tiempo: 2020-05-01<br />emae_original: 131.02957","indice_tiempo: 2020-06-01<br />emae_original: 132.52197","indice_tiempo: 2020-07-01<br />emae_original: 127.46369","indice_tiempo: 2020-08-01<br />emae_original: 125.18389","indice_tiempo: 2020-09-01<br />emae_original: 127.17508","indice_tiempo: 2020-10-01<br />emae_original: 131.34550","indice_tiempo: 2020-11-01<br />emae_original: 132.06865","indice_tiempo: 2020-12-01<br />emae_original: 133.85437","indice_tiempo: 2021-01-01<br />emae_original: 131.52154","indice_tiempo: 2021-02-01<br />emae_original: 126.23927","indice_tiempo: 2021-03-01<br />emae_original: 145.95689","indice_tiempo: 2021-04-01<br />emae_original: 147.28081","indice_tiempo: 2021-05-01<br />emae_original: 151.16931","indice_tiempo: 2021-06-01<br />emae_original: 148.97966","indice_tiempo: 2021-07-01<br />emae_original: 142.42605","indice_tiempo: 2021-08-01<br />emae_original: 140.97500","indice_tiempo: 2021-09-01<br />emae_original: 141.29589","indice_tiempo: 2021-10-01<br />emae_original: 139.51412","indice_tiempo: 2021-11-01<br />emae_original: 143.75161","indice_tiempo: 2021-12-01<br />emae_original: 147.23079","indice_tiempo: 2022-01-01<br />emae_original: 139.46394","indice_tiempo: 2022-02-01<br />emae_original: 138.00627","indice_tiempo: 2022-03-01<br />emae_original: 153.92756","indice_tiempo: 2022-04-01<br />emae_original: 156.07720","indice_tiempo: 2022-05-01<br />emae_original: 163.11692","indice_tiempo: 2022-06-01<br />emae_original: 159.60238","indice_tiempo: 2022-07-01<br />emae_original: 151.36804","indice_tiempo: 2022-08-01<br />emae_original: 150.48692","indice_tiempo: 2022-09-01<br />emae_original: 148.30621","indice_tiempo: 2022-10-01<br />emae_original: 144.90676","indice_tiempo: 2022-11-01<br />emae_original: 146.50323","indice_tiempo: 2022-12-01<br />emae_original: 144.49762","indice_tiempo: 2023-01-01<br />emae_original: 143.02668","indice_tiempo: 2023-02-01<br />emae_original: 137.60337","indice_tiempo: 2023-03-01<br />emae_original: 155.36192","indice_tiempo: 2023-04-01<br />emae_original: 149.13940","indice_tiempo: 2023-05-01<br />emae_original: 152.72491","indice_tiempo: 2023-06-01<br />emae_original: 151.64682","indice_tiempo: 2023-07-01<br />emae_original: 148.95206","indice_tiempo: 2023-08-01<br />emae_original: 150.72812","indice_tiempo: 2023-09-01<br />emae_original: 147.54798","indice_tiempo: 2023-10-01<br />emae_original: 146.67763","indice_tiempo: 2023-11-01<br />emae_original: 145.52988","indice_tiempo: 2023-12-01<br />emae_original: 138.38645"],"type":"scatter","mode":"lines","line":{"width":1.8897637795275593,"color":"rgba(0,139,139,1)","dash":"solid"},"hoveron":"points","showlegend":false,"xaxis":"x","yaxis":"y","hoverinfo":"text","frame":null}],"layout":{"margin":{"t":45.710806697108069,"r":7.3059360730593621,"b":42.130898021308994,"l":43.105022831050235},"font":{"color":"rgba(0,0,0,1)","family":"","size":14.611872146118724},"title":{"text":"Serie de Tiempo EMAE","font":{"color":"rgba(0,0,0,1)","family":"","size":17.534246575342465},"x":0,"xref":"paper"},"xaxis":{"domain":[0,1],"automargin":true,"type":"linear","autorange":false,"range":[12054.299999999999,20055.700000000001],"tickmode":"array","ticktext":["2005","2010","2015","2020"],"tickvals":[12784,14610,16436,18262],"categoryorder":"array","categoryarray":["2005","2010","2015","2020"],"nticks":null,"ticks":"","tickcolor":null,"ticklen":3.6529680365296811,"tickwidth":0,"showticklabels":true,"tickfont":{"color":"rgba(77,77,77,1)","family":"","size":11.68949771689498},"tickangle":-0,"showline":false,"linecolor":null,"linewidth":0,"showgrid":true,"gridcolor":"rgba(235,235,235,1)","gridwidth":0.66417600664176002,"zeroline":false,"anchor":"y","title":{"text":"Fecha","font":{"color":"rgba(0,0,0,1)","family":"","size":14.611872146118724}},"hoverformat":".2f"},"yaxis":{"domain":[0,1],"automargin":true,"type":"linear","autorange":false,"range":[86.251183252895856,172.82109665349785],"tickmode":"array","ticktext":["90","110","130","150","170"],"tickvals":[90,110,130,150,170],"categoryorder":"array","categoryarray":["90","110","130","150","170"],"nticks":null,"ticks":"","tickcolor":null,"ticklen":3.6529680365296811,"tickwidth":0,"showticklabels":true,"tickfont":{"color":"rgba(77,77,77,1)","family":"","size":11.68949771689498},"tickangle":-0,"showline":false,"linecolor":null,"linewidth":0,"showgrid":true,"gridcolor":"rgba(235,235,235,1)","gridwidth":0.66417600664176002,"zeroline":false,"anchor":"x","title":{"text":"Indice 2004 = 100","font":{"color":"rgba(0,0,0,1)","family":"","size":14.611872146118724}},"hoverformat":".2f"},"shapes":[{"type":"rect","fillcolor":null,"line":{"color":null,"width":0,"linetype":[]},"yref":"paper","xref":"paper","x0":0,"x1":1,"y0":0,"y1":1}],"showlegend":false,"legend":{"bgcolor":null,"bordercolor":null,"borderwidth":0,"font":{"color":"rgba(0,0,0,1)","family":"","size":11.68949771689498}},"hovermode":"closest","barmode":"relative"},"config":{"doubleClick":"reset","modeBarButtonsToAdd":["hoverclosest","hovercompare"],"showSendToCloud":false},"source":"A","attrs":{"35f03f8530b5":{"x":{},"y":{},"type":"scatter"}},"cur_data":"35f03f8530b5","visdat":{"35f03f8530b5":["function (y) ","x"]},"highlight":{"on":"plotly_click","persistent":false,"dynamic":false,"selectize":false,"opacityDim":0.20000000000000001,"selected":{"opacity":1},"debounce":0},"shinyEvents":["plotly_hover","plotly_click","plotly_selected","plotly_relayout","plotly_brushed","plotly_brushing","plotly_clickannotation","plotly_doubleclick","plotly_deselect","plotly_afterplot","plotly_sunburstclick"],"base_url":"https://plot.ly"},"evals":[],"jsHooks":[]}</script>
<p>También se grafica un boxplot por año, para ver si la varianza es
constante.</p>
<div class="sourceCode" id="cb4"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb4-1"><a href="#cb4-1" tabindex="-1"></a><span class="fu">ggplot</span>(emae_mensual_ts, <span class="fu">aes</span>(<span class="at">x =</span> year_factor, <span class="at">y =</span> emae_original)) <span class="sc">+</span></span>
<span id="cb4-2"><a href="#cb4-2" tabindex="-1"></a>  <span class="fu">geom_boxplot</span>(<span class="at">fill =</span> <span class="st">&quot;cyan4&quot;</span>) <span class="sc">+</span></span>
<span id="cb4-3"><a href="#cb4-3" tabindex="-1"></a>  <span class="fu">labs</span>(<span class="at">title =</span> <span class="st">&quot;Boxplot de Valores Anuales&quot;</span>, </span>
<span id="cb4-4"><a href="#cb4-4" tabindex="-1"></a>       <span class="at">x =</span> <span class="st">&quot;Year&quot;</span>, </span>
<span id="cb4-5"><a href="#cb4-5" tabindex="-1"></a>       <span class="at">y =</span> <span class="st">&quot;Indice 2004 = 100&quot;</span>) <span class="sc">+</span></span>
<span id="cb4-6"><a href="#cb4-6" tabindex="-1"></a>  <span class="fu">theme_minimal</span>()</span></code></pre></div>
<p><img src="index_files/figure-html/unnamed-chunk-4-1.png" width="100%" />
Si tenemos en cuenta los outliers, la varianza luce parecida a lo largo
de los años, pero esto es solo una aproximación gráfica. Como no tenemos
certeza, realizamos el gráfico de Box y Cox para probar posibles
transformaciones.</p>
<div id="transformación" class="section level2">
<h2>Transformación</h2>
<p>Sabemos que una de las formas de estabilizar la varianza en nuestra
serie es realizando alguna transformación como lo son la
<em>logarítmica</em> o <em>cuadrática</em>. Se probaron algunas
transformaciones en la serie, pero ninguna parecía tener una implicancia
positiva en la estabilización de la varianza. Por ello, se decidió
presentar la transformación recomendada por el gráfico de Box y Cox solo
a modo de ejemplo.</p>
<div class="sourceCode" id="cb5"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb5-1"><a href="#cb5-1" tabindex="-1"></a><span class="fu">boxcox</span>(<span class="fu">lm</span>(<span class="at">data =</span> emae_mensual_ts, emae_original <span class="sc">~</span> <span class="dv">1</span>), </span>
<span id="cb5-2"><a href="#cb5-2" tabindex="-1"></a>       <span class="at">plotit =</span> T, </span>
<span id="cb5-3"><a href="#cb5-3" tabindex="-1"></a>       <span class="at">lambda =</span> <span class="fu">seq</span>(<span class="sc">-</span><span class="dv">3</span>, <span class="dv">8</span>, <span class="at">by =</span> <span class="fl">0.5</span>))</span></code></pre></div>
<p><img src="index_files/figure-html/unnamed-chunk-5-1.png" width="100%" /></p>
<div class="sourceCode" id="cb6"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb6-1"><a href="#cb6-1" tabindex="-1"></a>lambda <span class="ot">&lt;-</span> <span class="dv">3</span></span>
<span id="cb6-2"><a href="#cb6-2" tabindex="-1"></a><span class="co"># Aplicar la transformación</span></span>
<span id="cb6-3"><a href="#cb6-3" tabindex="-1"></a>emae_mensual_ts <span class="ot">&lt;-</span> emae_mensual_ts <span class="sc">%&gt;%</span></span>
<span id="cb6-4"><a href="#cb6-4" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">emae_transformed =</span> (emae_original<span class="sc">^</span>lambda <span class="sc">-</span> <span class="dv">1</span>) <span class="sc">/</span> lambda)</span>
<span id="cb6-5"><a href="#cb6-5" tabindex="-1"></a></span>
<span id="cb6-6"><a href="#cb6-6" tabindex="-1"></a><span class="fu">ggplot</span>(emae_mensual_ts, <span class="fu">aes</span>(<span class="at">x =</span> year_factor, <span class="at">y =</span> emae_transformed)) <span class="sc">+</span></span>
<span id="cb6-7"><a href="#cb6-7" tabindex="-1"></a>  <span class="fu">geom_boxplot</span>(<span class="at">fill=</span><span class="st">&quot;cyan4&quot;</span>) <span class="sc">+</span></span>
<span id="cb6-8"><a href="#cb6-8" tabindex="-1"></a>  <span class="fu">labs</span>(<span class="at">title =</span> <span class="st">&quot;Boxplot de Valores anuale&quot;</span>, <span class="at">x =</span> <span class="st">&quot;Year&quot;</span>, <span class="at">y =</span> <span class="st">&#39;Indice 2004 = 100&#39;</span>) <span class="sc">+</span></span>
<span id="cb6-9"><a href="#cb6-9" tabindex="-1"></a>  <span class="fu">theme_minimal</span>() <span class="co"># no tiene variancia constante</span></span></code></pre></div>
<p><img src="index_files/figure-html/unnamed-chunk-6-1.png" width="100%" />
Como mencionamos anteriormente, esta transformación solo parece cambiar
la escala, pero no la forma de la varianza anual, por lo que
continuaremos nuestro trabajo con la <strong>serie
original</strong>.</p>
</div>
<div id="diferenciaciones" class="section level2">
<h2>Diferenciaciones</h2>
<p>Al analizar la serie temporal del EMAE, observamos un patrón de
estacionalidad recurrente, donde las fluctuaciones anuales se mantienen
consistentemente a lo largo del tiempo. Para abordar este comportamiento
y trabajar con una serie estacionaria (requisito fundamental para los
modelos ARIMA), decidimos aplicar una diferenciación estacional. Este
proceso nos permite eliminar los componentes estacionales y centrar
nuestro análisis en las variaciones más relevantes de la tendencia y los
ciclos.</p>
<div class="sourceCode" id="cb7"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb7-1"><a href="#cb7-1" tabindex="-1"></a>emae_mensual_ts <span class="sc">%&gt;%</span> </span>
<span id="cb7-2"><a href="#cb7-2" tabindex="-1"></a>  <span class="fu">gg_tsdisplay</span>(<span class="fu">difference</span>(emae_original, <span class="dv">12</span>), </span>
<span id="cb7-3"><a href="#cb7-3" tabindex="-1"></a>               <span class="at">plot_type=</span><span class="st">&#39;partial&#39;</span>,</span>
<span id="cb7-4"><a href="#cb7-4" tabindex="-1"></a>               <span class="at">lag=</span><span class="dv">36</span>)</span></code></pre></div>
<p><img src="index_files/figure-html/unnamed-chunk-7-1.png" width="100%" />
Al analizar los gráficos de la Función de Autocorrelación (FAC) y la
Función de Autocorrelación Parcial (FACP), identificamos características
que sugieren un modelo autorregresivo (AR) en la parte regular de la
serie. En particular:</p>
<ul>
<li><p>La FAC muestra una caída exponencial y un patrón sinusoidal,
característico de un modelo AR.</p></li>
<li><p>La FACP resalta significancia en los rezagos 2 y 3, lo que podría
apuntar a un modelo <span class="math inline">\(AR(3)\)</span>. Sin
embargo, optamos por el modelo más sencillo, <span
class="math inline">\(AR(1)\)</span>, para mantener la
parsimonia.</p></li>
</ul>
<p>Para la parte estacional, observamos picos significativos en los
rezagos 12 y 24, lo que indica una estacionalidad anual bien definida,
es por esto que recurrimos a una diferenciación. Luego de aplicar la
diferenciación estacional, consideramos los siguientes modelos como
candidatos:</p>
<ul>
<li><p><span class="math inline">\(SARIMA(1,0,0)(1,1,0)_{(12)}\)</span>:
Un modelo simple que captura la dinámica principal.</p></li>
<li><p><span class="math inline">\(SARIMA(1,0,0)(2,1,0)_{(12)}\)</span>:
Una extensión que podría reflejar interacciones adicionales entre
rezagos.</p></li>
</ul>
<p>Finalmente, la selección del modelo se basará en criterios de ajuste
como AIC, BIC y análisis de residuos para garantizar un balance entre la
bondad de ajuste y la parsimonia del modelo.</p>
</div>
<div id="ajuste-de-la-serie" class="section level2">
<h2>Ajuste de la Serie</h2>
<p>A partir del análisis previo de los gráficos de la FAC y la FACP,
identificamos posibles configuraciones para los modelos ARIMA que se
ajustan tanto a la parte regular como a la estacional de la serie. Con
base en estos hallazgos, y para garantizar un análisis robusto,
procederemos a ajustar los modelos identificados de dos maneras:</p>
<ul>
<li><p><strong>Modelos identificados manualmente:</strong> Utilizaremos
las configuraciones sugeridas (por ejemplo, <span
class="math inline">\(SARIMA(1,0,0)(1,1,0)_{(12)}\)</span> y <span
class="math inline">\(SARIMA(1,0,0)(2,1,0)_{(12)}\)</span>) como punto
de partida para verificar su desempeño en el ajuste de la
serie.</p></li>
<li><p><strong>Modelos automáticos:</strong> Exploraremos opciones
generadas automáticamente mediante métodos de selección óptimos basados
en criterios como AIC y BIC, que evalúan el balance entre la complejidad
del modelo y su capacidad de predicción.</p></li>
</ul>
<p>De esta manera, compararemos los resultados de ambos enfoques para
determinar cuál ofrece el mejor ajuste y predicción, siempre
considerando la parsimonia y la calidad de los residuos.</p>
<div class="sourceCode" id="cb8"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb8-1"><a href="#cb8-1" tabindex="-1"></a><span class="co"># Definir nombres de archivo para guardar los modelos</span></span>
<span id="cb8-2"><a href="#cb8-2" tabindex="-1"></a>fit_original_file <span class="ot">&lt;-</span> <span class="st">&quot;fitted/fit_original.rds&quot;</span></span>
<span id="cb8-3"><a href="#cb8-3" tabindex="-1"></a>fit_transformed_file <span class="ot">&lt;-</span> <span class="st">&quot;fitted/fit_transformed.rds&quot;</span></span>
<span id="cb8-4"><a href="#cb8-4" tabindex="-1"></a></span>
<span id="cb8-5"><a href="#cb8-5" tabindex="-1"></a><span class="co"># Ajuste y guardado de fit_original</span></span>
<span id="cb8-6"><a href="#cb8-6" tabindex="-1"></a>NOTFIT <span class="ot">=</span> <span class="cn">TRUE</span></span>
<span id="cb8-7"><a href="#cb8-7" tabindex="-1"></a><span class="cf">if</span> (NOTFIT) {</span>
<span id="cb8-8"><a href="#cb8-8" tabindex="-1"></a>  fit_original <span class="ot">&lt;-</span> <span class="fu">readRDS</span>(fit_original_file)</span>
<span id="cb8-9"><a href="#cb8-9" tabindex="-1"></a>  <span class="fu">message</span>(<span class="st">&quot;Modelo fit_original cargado desde </span><span class="sc">\f</span><span class="st">itted.&quot;</span>)</span>
<span id="cb8-10"><a href="#cb8-10" tabindex="-1"></a>} <span class="cf">else</span> {</span>
<span id="cb8-11"><a href="#cb8-11" tabindex="-1"></a>  fit_original <span class="ot">&lt;-</span> emae_mensual_ts <span class="sc">%&gt;%</span> </span>
<span id="cb8-12"><a href="#cb8-12" tabindex="-1"></a>    <span class="fu">model</span>(</span>
<span id="cb8-13"><a href="#cb8-13" tabindex="-1"></a>      <span class="at">arima11 =</span> <span class="fu">ARIMA</span>(emae_original <span class="sc">~</span> <span class="fu">pdq</span>(<span class="dv">1</span>,<span class="dv">0</span>,<span class="dv">0</span>) <span class="sc">+</span> <span class="fu">PDQ</span>(<span class="dv">1</span>,<span class="dv">1</span>,<span class="dv">0</span>)),</span>
<span id="cb8-14"><a href="#cb8-14" tabindex="-1"></a>      <span class="at">arima11_2 =</span> <span class="fu">ARIMA</span>(emae_original <span class="sc">~</span> <span class="fu">pdq</span>(<span class="dv">1</span>,<span class="dv">0</span>,<span class="dv">0</span>) <span class="sc">+</span> <span class="fu">PDQ</span>(<span class="dv">2</span>,<span class="dv">1</span>,<span class="dv">0</span>)),</span>
<span id="cb8-15"><a href="#cb8-15" tabindex="-1"></a>      <span class="at">auto =</span> <span class="fu">ARIMA</span>(emae_original, <span class="at">stepwise =</span> <span class="cn">FALSE</span>, <span class="at">approx =</span> <span class="cn">FALSE</span>),</span>
<span id="cb8-16"><a href="#cb8-16" tabindex="-1"></a>      <span class="at">auto_2 =</span> <span class="fu">ARIMA</span>(emae_original, <span class="at">stepwise =</span> <span class="cn">TRUE</span>, <span class="at">approx =</span> <span class="cn">TRUE</span>)</span>
<span id="cb8-17"><a href="#cb8-17" tabindex="-1"></a>    )</span>
<span id="cb8-18"><a href="#cb8-18" tabindex="-1"></a>  <span class="fu">saveRDS</span>(fit_original, fit_original_file)</span>
<span id="cb8-19"><a href="#cb8-19" tabindex="-1"></a>  <span class="fu">message</span>(<span class="st">&quot;Modelo fit_original ajustado y guardado en </span><span class="sc">\f</span><span class="st">itted.&quot;</span>)</span>
<span id="cb8-20"><a href="#cb8-20" tabindex="-1"></a>}</span>
<span id="cb8-21"><a href="#cb8-21" tabindex="-1"></a></span>
<span id="cb8-22"><a href="#cb8-22" tabindex="-1"></a></span>
<span id="cb8-23"><a href="#cb8-23" tabindex="-1"></a>df_fit <span class="ot">&lt;-</span> <span class="fu">as.data.frame</span>(fit_original <span class="sc">%&gt;%</span> </span>
<span id="cb8-24"><a href="#cb8-24" tabindex="-1"></a>                           <span class="fu">pivot_longer</span>(<span class="fu">everything</span>(),</span>
<span id="cb8-25"><a href="#cb8-25" tabindex="-1"></a>                                        <span class="at">names_to =</span> <span class="st">&quot;Model name&quot;</span>,</span>
<span id="cb8-26"><a href="#cb8-26" tabindex="-1"></a>                                        <span class="at">values_to =</span><span class="st">&quot;Orders&quot;</span>))  </span>
<span id="cb8-27"><a href="#cb8-27" tabindex="-1"></a><span class="fu">kable</span>(df_fit,</span>
<span id="cb8-28"><a href="#cb8-28" tabindex="-1"></a>      <span class="at">format =</span> <span class="st">&quot;html&quot;</span>, </span>
<span id="cb8-29"><a href="#cb8-29" tabindex="-1"></a>      <span class="at">table.attr =</span> <span class="st">&quot;class=&#39;table table-striped&#39;&quot;</span>) <span class="sc">%&gt;%</span></span>
<span id="cb8-30"><a href="#cb8-30" tabindex="-1"></a>  <span class="fu">kable_styling</span>() <span class="sc">%&gt;%</span></span>
<span id="cb8-31"><a href="#cb8-31" tabindex="-1"></a>  <span class="fu">row_spec</span>(<span class="dv">0</span>, <span class="at">bold =</span> T, <span class="at">background =</span> <span class="st">&quot;cyan4&quot;</span>, <span class="at">color =</span> <span class="st">&quot;white&quot;</span>)</span></code></pre></div>
<table class="table table-striped table" style="color: black; margin-left: auto; margin-right: auto;">
<thead>
<tr>
<th style="text-align:left;font-weight: bold;color: white !important;background-color: rgba(0, 139, 139, 255) !important;">
Model name
</th>
<th style="text-align:left;font-weight: bold;color: white !important;background-color: rgba(0, 139, 139, 255) !important;">
Orders
</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:left;">
arima11
</td>
<td style="text-align:left;">
&lt;ARIMA(1,0,0)(1,1,0)[12]&gt;
</td>
</tr>
<tr>
<td style="text-align:left;">
arima11_2
</td>
<td style="text-align:left;">
&lt;ARIMA(1,0,0)(2,1,0)[12]&gt;
</td>
</tr>
<tr>
<td style="text-align:left;">
auto
</td>
<td style="text-align:left;">
&lt;ARIMA(0,1,2)(2,1,2)[12]&gt;
</td>
</tr>
<tr>
<td style="text-align:left;">
auto_2
</td>
<td style="text-align:left;">
&lt;ARIMA(2,1,2)(0,1,1)[12]&gt;
</td>
</tr>
</tbody>
</table>
<div class="sourceCode" id="cb9"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb9-1"><a href="#cb9-1" tabindex="-1"></a>glance_summary <span class="ot">&lt;-</span> <span class="fu">glance</span>(fit_original) <span class="sc">%&gt;%</span></span>
<span id="cb9-2"><a href="#cb9-2" tabindex="-1"></a>  <span class="fu">select</span>(.model, sigma2, log_lik, AIC, AICc, BIC)</span>
<span id="cb9-3"><a href="#cb9-3" tabindex="-1"></a></span>
<span id="cb9-4"><a href="#cb9-4" tabindex="-1"></a><span class="fu">kable</span>(<span class="fu">as.data.frame</span>(glance_summary), </span>
<span id="cb9-5"><a href="#cb9-5" tabindex="-1"></a>      <span class="at">format =</span> <span class="st">&quot;html&quot;</span>, </span>
<span id="cb9-6"><a href="#cb9-6" tabindex="-1"></a>      <span class="at">table.attr =</span> <span class="st">&quot;class=&#39;table table-striped&#39;&quot;</span>) <span class="sc">%&gt;%</span></span>
<span id="cb9-7"><a href="#cb9-7" tabindex="-1"></a>  <span class="fu">kable_styling</span>() <span class="sc">%&gt;%</span></span>
<span id="cb9-8"><a href="#cb9-8" tabindex="-1"></a>  <span class="fu">row_spec</span>(<span class="dv">0</span>, <span class="at">bold =</span> T, <span class="at">background =</span> <span class="st">&quot;cyan4&quot;</span>, <span class="at">color =</span> <span class="st">&quot;white&quot;</span>)</span></code></pre></div>
<table class="table table-striped table" style="color: black; margin-left: auto; margin-right: auto;">
<thead>
<tr>
<th style="text-align:left;font-weight: bold;color: white !important;background-color: rgba(0, 139, 139, 255) !important;">
.model
</th>
<th style="text-align:right;font-weight: bold;color: white !important;background-color: rgba(0, 139, 139, 255) !important;">
sigma2
</th>
<th style="text-align:right;font-weight: bold;color: white !important;background-color: rgba(0, 139, 139, 255) !important;">
log_lik
</th>
<th style="text-align:right;font-weight: bold;color: white !important;background-color: rgba(0, 139, 139, 255) !important;">
AIC
</th>
<th style="text-align:right;font-weight: bold;color: white !important;background-color: rgba(0, 139, 139, 255) !important;">
AICc
</th>
<th style="text-align:right;font-weight: bold;color: white !important;background-color: rgba(0, 139, 139, 255) !important;">
BIC
</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:left;">
arima11
</td>
<td style="text-align:right;">
15.94339
</td>
<td style="text-align:right;">
-639.8501
</td>
<td style="text-align:right;">
1285.700
</td>
<td style="text-align:right;">
1285.807
</td>
<td style="text-align:right;">
1295.988
</td>
</tr>
<tr>
<td style="text-align:left;">
arima11_2
</td>
<td style="text-align:right;">
14.51855
</td>
<td style="text-align:right;">
-629.7972
</td>
<td style="text-align:right;">
1267.594
</td>
<td style="text-align:right;">
1267.774
</td>
<td style="text-align:right;">
1281.312
</td>
</tr>
<tr>
<td style="text-align:left;">
auto
</td>
<td style="text-align:right;">
11.96773
</td>
<td style="text-align:right;">
-608.5686
</td>
<td style="text-align:right;">
1231.137
</td>
<td style="text-align:right;">
1231.649
</td>
<td style="text-align:right;">
1255.112
</td>
</tr>
<tr>
<td style="text-align:left;">
auto_2
</td>
<td style="text-align:right;">
12.20772
</td>
<td style="text-align:right;">
-610.6591
</td>
<td style="text-align:right;">
1233.318
</td>
<td style="text-align:right;">
1233.700
</td>
<td style="text-align:right;">
1253.868
</td>
</tr>
</tbody>
</table>
<p>De la tabla presentada, obtenemos las siguientes observaciones
clave:</p>
<ol style="list-style-type: decimal">
<li><p>El mejor modelo identificado es el ajustado automáticamente,
<span class="math inline">\(SARIMA(0,1,2)(2,1,2)_{12}\)</span>. Este
modelo utiliza una diferenciación y un comportamiento <span
class="math inline">\(MA(2)\)</span> en la parte regular y una
diferenciación y un comportamiento <span
class="math inline">\(ARMA(2,2)\)</span> en la parte
estacional.</p></li>
<li><p>El modelo <span
class="math inline">\(SARIMA(1,0,0)(2,1,0)_{(12)}\)</span> presenta un
desempeño competitivo y será considerado como una alternativa más
sencilla para comparación.</p></li>
</ol>
<p>A partir de estas conclusiones, trabajaremos con ambos modelos (<span
class="math inline">\(SARIMA(0,1,2)(2,1,2)_{12}\)</span>. y <span
class="math inline">\(SARIMA(1,0,0)(2,1,0)_{(12)}\)</span>) en las
siguientes etapas del análisis, evaluando su desempeño en términos de
ajuste y predicción.</p>
<div id="modelos" class="section level3">
<h3>Modelos</h3>
<p>Presentamos los coeficientes <span
class="math inline">\(\theta\)</span>, <span
class="math inline">\(\Theta\)</span>, <span
class="math inline">\(\phi\)</span> y <span
class="math inline">\(\Phi\)</span> estimados</p>
<div class="sourceCode" id="cb10"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb10-1"><a href="#cb10-1" tabindex="-1"></a>params_df <span class="ot">&lt;-</span> <span class="fu">as.data.frame</span>(fit_original <span class="sc">%&gt;%</span></span>
<span id="cb10-2"><a href="#cb10-2" tabindex="-1"></a>                              <span class="fu">tidy</span>() <span class="sc">%&gt;%</span>  </span>
<span id="cb10-3"><a href="#cb10-3" tabindex="-1"></a>                              <span class="fu">select</span>(.model, term, estimate)<span class="sc">%&gt;%</span></span>
<span id="cb10-4"><a href="#cb10-4" tabindex="-1"></a>                              <span class="fu">filter</span>(.model <span class="sc">%in%</span> <span class="fu">c</span>(<span class="st">&quot;auto&quot;</span>, <span class="st">&quot;arima11_2&quot;</span>))</span>
<span id="cb10-5"><a href="#cb10-5" tabindex="-1"></a>                          )</span>
<span id="cb10-6"><a href="#cb10-6" tabindex="-1"></a></span>
<span id="cb10-7"><a href="#cb10-7" tabindex="-1"></a><span class="fu">kable</span>(<span class="fu">as.data.frame</span>(params_df), </span>
<span id="cb10-8"><a href="#cb10-8" tabindex="-1"></a>      <span class="at">format =</span> <span class="st">&quot;html&quot;</span>, </span>
<span id="cb10-9"><a href="#cb10-9" tabindex="-1"></a>      <span class="at">table.attr =</span> <span class="st">&quot;class=&#39;table table-striped&#39;&quot;</span>) <span class="sc">%&gt;%</span></span>
<span id="cb10-10"><a href="#cb10-10" tabindex="-1"></a>  <span class="fu">kable_styling</span>() <span class="sc">%&gt;%</span></span>
<span id="cb10-11"><a href="#cb10-11" tabindex="-1"></a>  <span class="fu">row_spec</span>(<span class="dv">0</span>, <span class="at">bold =</span> T, <span class="at">background =</span> <span class="st">&quot;cyan4&quot;</span>, <span class="at">color =</span> <span class="st">&quot;white&quot;</span>)</span></code></pre></div>
<table class="table table-striped table" style="color: black; margin-left: auto; margin-right: auto;">
<thead>
<tr>
<th style="text-align:left;font-weight: bold;color: white !important;background-color: rgba(0, 139, 139, 255) !important;">
.model
</th>
<th style="text-align:left;font-weight: bold;color: white !important;background-color: rgba(0, 139, 139, 255) !important;">
term
</th>
<th style="text-align:right;font-weight: bold;color: white !important;background-color: rgba(0, 139, 139, 255) !important;">
estimate
</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:left;">
arima11_2
</td>
<td style="text-align:left;">
ar1
</td>
<td style="text-align:right;">
0.9242808
</td>
</tr>
<tr>
<td style="text-align:left;">
arima11_2
</td>
<td style="text-align:left;">
sar1
</td>
<td style="text-align:right;">
-0.4988363
</td>
</tr>
<tr>
<td style="text-align:left;">
arima11_2
</td>
<td style="text-align:left;">
sar2
</td>
<td style="text-align:right;">
-0.2932145
</td>
</tr>
<tr>
<td style="text-align:left;">
auto
</td>
<td style="text-align:left;">
ma1
</td>
<td style="text-align:right;">
0.0975449
</td>
</tr>
<tr>
<td style="text-align:left;">
auto
</td>
<td style="text-align:left;">
ma2
</td>
<td style="text-align:right;">
-0.2622736
</td>
</tr>
<tr>
<td style="text-align:left;">
auto
</td>
<td style="text-align:left;">
sar1
</td>
<td style="text-align:right;">
0.7855182
</td>
</tr>
<tr>
<td style="text-align:left;">
auto
</td>
<td style="text-align:left;">
sar2
</td>
<td style="text-align:right;">
-0.4157480
</td>
</tr>
<tr>
<td style="text-align:left;">
auto
</td>
<td style="text-align:left;">
sma1
</td>
<td style="text-align:right;">
-1.4610781
</td>
</tr>
<tr>
<td style="text-align:left;">
auto
</td>
<td style="text-align:left;">
sma2
</td>
<td style="text-align:right;">
0.6935498
</td>
</tr>
</tbody>
</table>
<p>Los modelos estimados con los que trabajaremos se notan como:</p>
<ul>
<li><span class="math inline">\(SARIMA(1,0,0)(2,1,0)_{(12)}\)</span> al
que llamaremos de ahora en más <strong>modelo manual</strong></li>
</ul>
<p><span
class="math display">\[(1-0,92B)(1+0,5B^{12}+0,29B^{24})(1-B^{12})Z_t=a_t
\]</span></p>
<ul>
<li><span class="math inline">\(SARIMA(0,1,2)(2,1,2)_{12}\)</span> al
que llamaremos de ahora en más <strong>modelo automático</strong></li>
</ul>
<p><span
class="math display">\[(1-0,79B^{12}+0,42B^{24})(1-B)(1-B^{12})Z_t=(1-0,97B+0,96B^2)(1+1,46B^{12}-0,69B^{24})a_t\]</span>
Para cerrar esta sección, presentamos un gráfico interactivo que permite
analizar la similitud y precisión de ambos modelos ajustados. Con el
objetivo de facilitar la interpretación visual, se se incluyen
únicamente los datos correspondientes a los últimos cuatro años para
destacar patrones recientes y poder comparar claramente.</p>
<div class="sourceCode" id="cb11"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb11-1"><a href="#cb11-1" tabindex="-1"></a>fitted_values <span class="ot">&lt;-</span> fit_original <span class="sc">%&gt;%</span></span>
<span id="cb11-2"><a href="#cb11-2" tabindex="-1"></a>  <span class="fu">augment</span>() <span class="sc">%&gt;%</span>  <span class="co"># Obtener valores ajustados</span></span>
<span id="cb11-3"><a href="#cb11-3" tabindex="-1"></a>  <span class="fu">as_tibble</span>() <span class="sc">%&gt;%</span> <span class="co"># Convertir a tibble para ggplot</span></span>
<span id="cb11-4"><a href="#cb11-4" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">Modelo =</span> .model)</span>
<span id="cb11-5"><a href="#cb11-5" tabindex="-1"></a></span>
<span id="cb11-6"><a href="#cb11-6" tabindex="-1"></a>fitted_values <span class="ot">&lt;-</span> fitted_values <span class="sc">%&gt;%</span></span>
<span id="cb11-7"><a href="#cb11-7" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">periodo_date =</span> <span class="fu">parse_date_time</span>(periodo, <span class="at">orders =</span> <span class="st">&quot;Y b&quot;</span>)) <span class="co"># Convierte fecha</span></span>
<span id="cb11-8"><a href="#cb11-8" tabindex="-1"></a></span>
<span id="cb11-9"><a href="#cb11-9" tabindex="-1"></a>fitted_values_filtered <span class="ot">&lt;-</span> fitted_values <span class="sc">%&gt;%</span></span>
<span id="cb11-10"><a href="#cb11-10" tabindex="-1"></a>  <span class="fu">filter</span>(</span>
<span id="cb11-11"><a href="#cb11-11" tabindex="-1"></a>    periodo_date <span class="sc">&gt;=</span> <span class="fu">ymd</span>(<span class="st">&quot;2019-01-01&quot;</span>) <span class="sc">&amp;</span> periodo_date <span class="sc">&lt;=</span> <span class="fu">ymd</span>(<span class="st">&quot;2024-12-31&quot;</span>),</span>
<span id="cb11-12"><a href="#cb11-12" tabindex="-1"></a>    .model <span class="sc">%in%</span> <span class="fu">c</span>(<span class="st">&quot;auto&quot;</span>, <span class="st">&quot;arima11_2&quot;</span>) <span class="co"># Filtrar modelos</span></span>
<span id="cb11-13"><a href="#cb11-13" tabindex="-1"></a>  )</span>
<span id="cb11-14"><a href="#cb11-14" tabindex="-1"></a></span>
<span id="cb11-15"><a href="#cb11-15" tabindex="-1"></a><span class="co"># Graficar los valores filtrados</span></span>
<span id="cb11-16"><a href="#cb11-16" tabindex="-1"></a>g <span class="ot">&lt;-</span> <span class="fu">ggplot</span>(<span class="at">data =</span> fitted_values_filtered, <span class="fu">aes</span>(<span class="at">x =</span> periodo_date)) <span class="sc">+</span></span>
<span id="cb11-17"><a href="#cb11-17" tabindex="-1"></a>  <span class="fu">geom_line</span>(<span class="fu">aes</span>(<span class="at">y =</span> emae_original, <span class="at">color =</span> <span class="st">&quot;Serie Original&quot;</span>), <span class="at">size =</span> <span class="dv">1</span>) <span class="sc">+</span></span>
<span id="cb11-18"><a href="#cb11-18" tabindex="-1"></a>  <span class="fu">geom_line</span>(<span class="fu">aes</span>(<span class="at">y =</span> .fitted, <span class="at">color =</span> .model), <span class="at">linetype =</span> <span class="st">&quot;dashed&quot;</span>, <span class="at">size =</span> <span class="fl">0.8</span>) <span class="sc">+</span></span>
<span id="cb11-19"><a href="#cb11-19" tabindex="-1"></a>  <span class="fu">labs</span>(</span>
<span id="cb11-20"><a href="#cb11-20" tabindex="-1"></a>    <span class="at">title =</span> <span class="st">&quot;Serie Original y Estimaciones de los Modelos (2019-2024)&quot;</span>,</span>
<span id="cb11-21"><a href="#cb11-21" tabindex="-1"></a>    <span class="at">x =</span> <span class="st">&quot;Tiempo&quot;</span>,</span>
<span id="cb11-22"><a href="#cb11-22" tabindex="-1"></a>    <span class="at">y =</span> <span class="st">&quot;Índice 2004 = 100&quot;</span>,</span>
<span id="cb11-23"><a href="#cb11-23" tabindex="-1"></a>    <span class="at">color =</span> <span class="st">&quot;Leyenda&quot;</span></span>
<span id="cb11-24"><a href="#cb11-24" tabindex="-1"></a>  ) <span class="sc">+</span></span>
<span id="cb11-25"><a href="#cb11-25" tabindex="-1"></a>  <span class="fu">theme_minimal</span>() <span class="sc">+</span></span>
<span id="cb11-26"><a href="#cb11-26" tabindex="-1"></a>  <span class="fu">scale_color_manual</span>(<span class="at">values =</span> <span class="fu">c</span>(<span class="st">&quot;Serie Original&quot;</span> <span class="ot">=</span> <span class="st">&quot;cyan4&quot;</span>, <span class="st">&quot;arima11_2&quot;</span> <span class="ot">=</span> <span class="st">&quot;#009933&quot;</span>, <span class="st">&quot;auto&quot;</span> <span class="ot">=</span> <span class="st">&quot;#9933CC&quot;</span>))</span>
<span id="cb11-27"><a href="#cb11-27" tabindex="-1"></a><span class="fu">ggplotly</span>(g)</span></code></pre></div>
<div class="plotly html-widget html-fill-item" id="htmlwidget-29e1719f27c4602d5254" style="width:100%;height:480px;"></div>
<script type="application/json" data-for="htmlwidget-29e1719f27c4602d5254">{"x":{"data":[{"x":[1548979200,1548979200,1551398400,1551398400,1556668800,1556668800,1559347200,1559347200,1561939200,1561939200,1567296000,1567296000,1569888000,1569888000,1572566400,1572566400,1580515200,1580515200,1583020800,1583020800,1588291200,1588291200,1590969600,1590969600,1593561600,1593561600,1598918400,1598918400,1601510400,1601510400,1604188800,1604188800,1612137600,1612137600,1614556800,1614556800,1619827200,1619827200,1622505600,1622505600,1625097600,1625097600,1630454400,1630454400,1633046400,1633046400,1635724800,1635724800,1643673600,1643673600,1646092800,1646092800,1651363200,1651363200,1654041600,1654041600,1656633600,1656633600,1661990400,1661990400,1664582400,1664582400,1667260800,1667260800,1675209600,1675209600,1677628800,1677628800,1682899200,1682899200,1685577600,1685577600,1688169600,1688169600,1693526400,1693526400,1696118400,1696118400,1698796800,1698796800],"y":[132.26788861275296,132.26788861275296,144.96325495569374,144.96325495569374,164.13569907584596,164.13569907584596,150.85897174138188,150.85897174138188,146.77702964086896,146.77702964086896,134.87706647880103,134.87706647880103,141.6393366133961,141.6393366133961,137.77182966780643,137.77182966780643,128.97363875350504,128.97363875350504,128.21106071696462,128.21106071696462,131.0295691660663,131.0295691660663,132.52196537198179,132.52196537198179,127.46368980591313,127.46368980591313,127.17507561554753,127.17507561554753,131.34550037217323,131.34550037217323,132.06865461127063,132.06865461127063,126.23926987487661,126.23926987487661,145.95689030206921,145.95689030206921,151.16930917453971,151.16930917453971,148.97966150182666,148.97966150182666,142.42605450402064,142.42605450402064,141.2958880231437,141.2958880231437,139.5141180714873,139.5141180714873,143.75160757157784,143.75160757157784,138.00627023452296,138.00627023452296,153.92755975942296,153.92755975942296,163.1169209317496,163.1169209317496,159.60238464157831,159.60238464157831,151.36803877512625,151.36803877512625,148.30621498849308,148.30621498849308,144.90675648008252,144.90675648008252,146.5032300333165,146.5032300333165,137.60337495838098,137.60337495838098,155.36191563919746,155.36191563919746,152.72491353284434,152.72491353284434,151.64682485808871,151.64682485808871,148.9520606213155,148.9520606213155,147.54797773000911,147.54797773000911,146.67763411363745,146.67763411363745,145.52988172542135,145.52988172542135],"text":["periodo_date: 2019-02-01<br />emae_original: 132.2679<br />colour: Serie Original","periodo_date: 2019-02-01<br />emae_original: 132.2679<br />colour: Serie Original","periodo_date: 2019-03-01<br />emae_original: 144.9633<br />colour: Serie Original","periodo_date: 2019-03-01<br />emae_original: 144.9633<br />colour: Serie Original","periodo_date: 2019-05-01<br />emae_original: 164.1357<br />colour: Serie Original","periodo_date: 2019-05-01<br />emae_original: 164.1357<br />colour: Serie Original","periodo_date: 2019-06-01<br />emae_original: 150.8590<br />colour: Serie Original","periodo_date: 2019-06-01<br />emae_original: 150.8590<br />colour: Serie Original","periodo_date: 2019-07-01<br />emae_original: 146.7770<br />colour: Serie Original","periodo_date: 2019-07-01<br />emae_original: 146.7770<br />colour: Serie Original","periodo_date: 2019-09-01<br />emae_original: 134.8771<br />colour: Serie Original","periodo_date: 2019-09-01<br />emae_original: 134.8771<br />colour: Serie Original","periodo_date: 2019-10-01<br />emae_original: 141.6393<br />colour: Serie Original","periodo_date: 2019-10-01<br />emae_original: 141.6393<br />colour: Serie Original","periodo_date: 2019-11-01<br />emae_original: 137.7718<br />colour: Serie Original","periodo_date: 2019-11-01<br />emae_original: 137.7718<br />colour: Serie Original","periodo_date: 2020-02-01<br />emae_original: 128.9736<br />colour: Serie Original","periodo_date: 2020-02-01<br />emae_original: 128.9736<br />colour: Serie Original","periodo_date: 2020-03-01<br />emae_original: 128.2111<br />colour: Serie Original","periodo_date: 2020-03-01<br />emae_original: 128.2111<br />colour: Serie Original","periodo_date: 2020-05-01<br />emae_original: 131.0296<br />colour: Serie Original","periodo_date: 2020-05-01<br />emae_original: 131.0296<br />colour: Serie Original","periodo_date: 2020-06-01<br />emae_original: 132.5220<br />colour: Serie Original","periodo_date: 2020-06-01<br />emae_original: 132.5220<br />colour: Serie Original","periodo_date: 2020-07-01<br />emae_original: 127.4637<br />colour: Serie Original","periodo_date: 2020-07-01<br />emae_original: 127.4637<br />colour: Serie Original","periodo_date: 2020-09-01<br />emae_original: 127.1751<br />colour: Serie Original","periodo_date: 2020-09-01<br />emae_original: 127.1751<br />colour: Serie Original","periodo_date: 2020-10-01<br />emae_original: 131.3455<br />colour: Serie Original","periodo_date: 2020-10-01<br />emae_original: 131.3455<br />colour: Serie Original","periodo_date: 2020-11-01<br />emae_original: 132.0687<br />colour: Serie Original","periodo_date: 2020-11-01<br />emae_original: 132.0687<br />colour: Serie Original","periodo_date: 2021-02-01<br />emae_original: 126.2393<br />colour: Serie Original","periodo_date: 2021-02-01<br />emae_original: 126.2393<br />colour: Serie Original","periodo_date: 2021-03-01<br />emae_original: 145.9569<br />colour: Serie Original","periodo_date: 2021-03-01<br />emae_original: 145.9569<br />colour: Serie Original","periodo_date: 2021-05-01<br />emae_original: 151.1693<br />colour: Serie Original","periodo_date: 2021-05-01<br />emae_original: 151.1693<br />colour: Serie Original","periodo_date: 2021-06-01<br />emae_original: 148.9797<br />colour: Serie Original","periodo_date: 2021-06-01<br />emae_original: 148.9797<br />colour: Serie Original","periodo_date: 2021-07-01<br />emae_original: 142.4261<br />colour: Serie Original","periodo_date: 2021-07-01<br />emae_original: 142.4261<br />colour: Serie Original","periodo_date: 2021-09-01<br />emae_original: 141.2959<br />colour: Serie Original","periodo_date: 2021-09-01<br />emae_original: 141.2959<br />colour: Serie Original","periodo_date: 2021-10-01<br />emae_original: 139.5141<br />colour: Serie Original","periodo_date: 2021-10-01<br />emae_original: 139.5141<br />colour: Serie Original","periodo_date: 2021-11-01<br />emae_original: 143.7516<br />colour: Serie Original","periodo_date: 2021-11-01<br />emae_original: 143.7516<br />colour: Serie Original","periodo_date: 2022-02-01<br />emae_original: 138.0063<br />colour: Serie Original","periodo_date: 2022-02-01<br />emae_original: 138.0063<br />colour: Serie Original","periodo_date: 2022-03-01<br />emae_original: 153.9276<br />colour: Serie Original","periodo_date: 2022-03-01<br />emae_original: 153.9276<br />colour: Serie Original","periodo_date: 2022-05-01<br />emae_original: 163.1169<br />colour: Serie Original","periodo_date: 2022-05-01<br />emae_original: 163.1169<br />colour: Serie Original","periodo_date: 2022-06-01<br />emae_original: 159.6024<br />colour: Serie Original","periodo_date: 2022-06-01<br />emae_original: 159.6024<br />colour: Serie Original","periodo_date: 2022-07-01<br />emae_original: 151.3680<br />colour: Serie Original","periodo_date: 2022-07-01<br />emae_original: 151.3680<br />colour: Serie Original","periodo_date: 2022-09-01<br />emae_original: 148.3062<br />colour: Serie Original","periodo_date: 2022-09-01<br />emae_original: 148.3062<br />colour: Serie Original","periodo_date: 2022-10-01<br />emae_original: 144.9068<br />colour: Serie Original","periodo_date: 2022-10-01<br />emae_original: 144.9068<br />colour: Serie Original","periodo_date: 2022-11-01<br />emae_original: 146.5032<br />colour: Serie Original","periodo_date: 2022-11-01<br />emae_original: 146.5032<br />colour: Serie Original","periodo_date: 2023-02-01<br />emae_original: 137.6034<br />colour: Serie Original","periodo_date: 2023-02-01<br />emae_original: 137.6034<br />colour: Serie Original","periodo_date: 2023-03-01<br />emae_original: 155.3619<br />colour: Serie Original","periodo_date: 2023-03-01<br />emae_original: 155.3619<br />colour: Serie Original","periodo_date: 2023-05-01<br />emae_original: 152.7249<br />colour: Serie Original","periodo_date: 2023-05-01<br />emae_original: 152.7249<br />colour: Serie Original","periodo_date: 2023-06-01<br />emae_original: 151.6468<br />colour: Serie Original","periodo_date: 2023-06-01<br />emae_original: 151.6468<br />colour: Serie Original","periodo_date: 2023-07-01<br />emae_original: 148.9521<br />colour: Serie Original","periodo_date: 2023-07-01<br />emae_original: 148.9521<br />colour: Serie Original","periodo_date: 2023-09-01<br />emae_original: 147.5480<br />colour: Serie Original","periodo_date: 2023-09-01<br />emae_original: 147.5480<br />colour: Serie Original","periodo_date: 2023-10-01<br />emae_original: 146.6776<br />colour: Serie Original","periodo_date: 2023-10-01<br />emae_original: 146.6776<br />colour: Serie Original","periodo_date: 2023-11-01<br />emae_original: 145.5299<br />colour: Serie Original","periodo_date: 2023-11-01<br />emae_original: 145.5299<br />colour: Serie Original"],"type":"scatter","mode":"lines","line":{"width":3.7795275590551185,"color":"rgba(0,139,139,1)","dash":"solid"},"hoveron":"points","name":"Serie Original","legendgroup":"Serie Original","showlegend":true,"xaxis":"x","yaxis":"y","hoverinfo":"text","frame":null},{"x":[1548979200,1551398400,1556668800,1559347200,1561939200,1567296000,1569888000,1572566400,1580515200,1583020800,1588291200,1590969600,1593561600,1598918400,1601510400,1604188800,1612137600,1614556800,1619827200,1622505600,1625097600,1630454400,1633046400,1635724800,1643673600,1646092800,1651363200,1654041600,1656633600,1661990400,1664582400,1667260800,1675209600,1677628800,1682899200,1685577600,1688169600,1693526400,1696118400,1698796800],"y":[131.84817476884899,149.95442866936972,160.50357817262699,155.38379061674729,143.38449201102787,136.0639946395068,138.23914074660235,142.30336580851207,130.85889698405774,145.18861996963733,129.73928778080196,123.01402468295254,127.88725048478202,120.76190998633483,133.37493699506419,130.65938653624767,127.82638070079457,133.94060057733034,160.29619570803303,146.33631844024438,143.54403366175055,137.54637516519747,145.55625966202749,138.21832782420435,134.64283756582233,150.739121134388,164.70525401890797,157.50313888169293,153.06212056346396,148.22124494264091,149.36040174602616,145.55679586508271,139.25097590045797,149.06007879399215,158.10555064515771,150.83936210866753,144.52510481827775,149.55692159917362,146.17986388572854,148.04195149172656],"text":["periodo_date: 2019-02-01<br />.fitted: 131.8482<br />.model: arima11_2","periodo_date: 2019-03-01<br />.fitted: 149.9544<br />.model: arima11_2","periodo_date: 2019-05-01<br />.fitted: 160.5036<br />.model: arima11_2","periodo_date: 2019-06-01<br />.fitted: 155.3838<br />.model: arima11_2","periodo_date: 2019-07-01<br />.fitted: 143.3845<br />.model: arima11_2","periodo_date: 2019-09-01<br />.fitted: 136.0640<br />.model: arima11_2","periodo_date: 2019-10-01<br />.fitted: 138.2391<br />.model: arima11_2","periodo_date: 2019-11-01<br />.fitted: 142.3034<br />.model: arima11_2","periodo_date: 2020-02-01<br />.fitted: 130.8589<br />.model: arima11_2","periodo_date: 2020-03-01<br />.fitted: 145.1886<br />.model: arima11_2","periodo_date: 2020-05-01<br />.fitted: 129.7393<br />.model: arima11_2","periodo_date: 2020-06-01<br />.fitted: 123.0140<br />.model: arima11_2","periodo_date: 2020-07-01<br />.fitted: 127.8873<br />.model: arima11_2","periodo_date: 2020-09-01<br />.fitted: 120.7619<br />.model: arima11_2","periodo_date: 2020-10-01<br />.fitted: 133.3749<br />.model: arima11_2","periodo_date: 2020-11-01<br />.fitted: 130.6594<br />.model: arima11_2","periodo_date: 2021-02-01<br />.fitted: 127.8264<br />.model: arima11_2","periodo_date: 2021-03-01<br />.fitted: 133.9406<br />.model: arima11_2","periodo_date: 2021-05-01<br />.fitted: 160.2962<br />.model: arima11_2","periodo_date: 2021-06-01<br />.fitted: 146.3363<br />.model: arima11_2","periodo_date: 2021-07-01<br />.fitted: 143.5440<br />.model: arima11_2","periodo_date: 2021-09-01<br />.fitted: 137.5464<br />.model: arima11_2","periodo_date: 2021-10-01<br />.fitted: 145.5563<br />.model: arima11_2","periodo_date: 2021-11-01<br />.fitted: 138.2183<br />.model: arima11_2","periodo_date: 2022-02-01<br />.fitted: 134.6428<br />.model: arima11_2","periodo_date: 2022-03-01<br />.fitted: 150.7391<br />.model: arima11_2","periodo_date: 2022-05-01<br />.fitted: 164.7053<br />.model: arima11_2","periodo_date: 2022-06-01<br />.fitted: 157.5031<br />.model: arima11_2","periodo_date: 2022-07-01<br />.fitted: 153.0621<br />.model: arima11_2","periodo_date: 2022-09-01<br />.fitted: 148.2212<br />.model: arima11_2","periodo_date: 2022-10-01<br />.fitted: 149.3604<br />.model: arima11_2","periodo_date: 2022-11-01<br />.fitted: 145.5568<br />.model: arima11_2","periodo_date: 2023-02-01<br />.fitted: 139.2510<br />.model: arima11_2","periodo_date: 2023-03-01<br />.fitted: 149.0601<br />.model: arima11_2","periodo_date: 2023-05-01<br />.fitted: 158.1056<br />.model: arima11_2","periodo_date: 2023-06-01<br />.fitted: 150.8394<br />.model: arima11_2","periodo_date: 2023-07-01<br />.fitted: 144.5251<br />.model: arima11_2","periodo_date: 2023-09-01<br />.fitted: 149.5569<br />.model: arima11_2","periodo_date: 2023-10-01<br />.fitted: 146.1799<br />.model: arima11_2","periodo_date: 2023-11-01<br />.fitted: 148.0420<br />.model: arima11_2"],"type":"scatter","mode":"lines","line":{"width":3.0236220472440949,"color":"rgba(0,153,51,1)","dash":"dash"},"hoveron":"points","name":"arima11_2","legendgroup":"arima11_2","showlegend":true,"xaxis":"x","yaxis":"y","hoverinfo":"text","frame":null},{"x":[1548979200,1551398400,1556668800,1559347200,1561939200,1567296000,1569888000,1572566400,1580515200,1583020800,1588291200,1590969600,1593561600,1598918400,1601510400,1604188800,1612137600,1614556800,1619827200,1622505600,1625097600,1630454400,1633046400,1635724800,1643673600,1646092800,1651363200,1654041600,1656633600,1661990400,1664582400,1667260800,1675209600,1677628800,1682899200,1685577600,1688169600,1693526400,1696118400,1698796800],"y":[131.08152806350591,147.67542250316907,161.61644931351043,154.63714986378395,142.31416185013731,136.23486822837287,138.68116653131909,140.70662485873137,130.79760183790361,143.60072057647579,128.7561659683569,126.00688199460259,124.22787064260496,121.87463562460587,130.09010125265627,129.0929747452673,126.99744392434586,137.1648185663982,159.19091681218737,144.40056717783878,142.850223028713,139.72850180875184,143.85784196254133,139.59939921962032,134.60336440312008,157.6797726600249,166.44815112781413,155.06701887569906,152.75912157965527,147.17410398880736,149.93342468369451,145.54549208895472,141.34728270311933,150.08256748587641,158.67655698481309,147.26278590409743,146.28682764111792,145.78556976864832,149.18035548495072,146.08284992072379],"text":["periodo_date: 2019-02-01<br />.fitted: 131.0815<br />.model: auto","periodo_date: 2019-03-01<br />.fitted: 147.6754<br />.model: auto","periodo_date: 2019-05-01<br />.fitted: 161.6164<br />.model: auto","periodo_date: 2019-06-01<br />.fitted: 154.6371<br />.model: auto","periodo_date: 2019-07-01<br />.fitted: 142.3142<br />.model: auto","periodo_date: 2019-09-01<br />.fitted: 136.2349<br />.model: auto","periodo_date: 2019-10-01<br />.fitted: 138.6812<br />.model: auto","periodo_date: 2019-11-01<br />.fitted: 140.7066<br />.model: auto","periodo_date: 2020-02-01<br />.fitted: 130.7976<br />.model: auto","periodo_date: 2020-03-01<br />.fitted: 143.6007<br />.model: auto","periodo_date: 2020-05-01<br />.fitted: 128.7562<br />.model: auto","periodo_date: 2020-06-01<br />.fitted: 126.0069<br />.model: auto","periodo_date: 2020-07-01<br />.fitted: 124.2279<br />.model: auto","periodo_date: 2020-09-01<br />.fitted: 121.8746<br />.model: auto","periodo_date: 2020-10-01<br />.fitted: 130.0901<br />.model: auto","periodo_date: 2020-11-01<br />.fitted: 129.0930<br />.model: auto","periodo_date: 2021-02-01<br />.fitted: 126.9974<br />.model: auto","periodo_date: 2021-03-01<br />.fitted: 137.1648<br />.model: auto","periodo_date: 2021-05-01<br />.fitted: 159.1909<br />.model: auto","periodo_date: 2021-06-01<br />.fitted: 144.4006<br />.model: auto","periodo_date: 2021-07-01<br />.fitted: 142.8502<br />.model: auto","periodo_date: 2021-09-01<br />.fitted: 139.7285<br />.model: auto","periodo_date: 2021-10-01<br />.fitted: 143.8578<br />.model: auto","periodo_date: 2021-11-01<br />.fitted: 139.5994<br />.model: auto","periodo_date: 2022-02-01<br />.fitted: 134.6034<br />.model: auto","periodo_date: 2022-03-01<br />.fitted: 157.6798<br />.model: auto","periodo_date: 2022-05-01<br />.fitted: 166.4482<br />.model: auto","periodo_date: 2022-06-01<br />.fitted: 155.0670<br />.model: auto","periodo_date: 2022-07-01<br />.fitted: 152.7591<br />.model: auto","periodo_date: 2022-09-01<br />.fitted: 147.1741<br />.model: auto","periodo_date: 2022-10-01<br />.fitted: 149.9334<br />.model: auto","periodo_date: 2022-11-01<br />.fitted: 145.5455<br />.model: auto","periodo_date: 2023-02-01<br />.fitted: 141.3473<br />.model: auto","periodo_date: 2023-03-01<br />.fitted: 150.0826<br />.model: auto","periodo_date: 2023-05-01<br />.fitted: 158.6766<br />.model: auto","periodo_date: 2023-06-01<br />.fitted: 147.2628<br />.model: auto","periodo_date: 2023-07-01<br />.fitted: 146.2868<br />.model: auto","periodo_date: 2023-09-01<br />.fitted: 145.7856<br />.model: auto","periodo_date: 2023-10-01<br />.fitted: 149.1804<br />.model: auto","periodo_date: 2023-11-01<br />.fitted: 146.0828<br />.model: auto"],"type":"scatter","mode":"lines","line":{"width":3.0236220472440949,"color":"rgba(153,51,204,1)","dash":"dash"},"hoveron":"points","name":"auto","legendgroup":"auto","showlegend":true,"xaxis":"x","yaxis":"y","hoverinfo":"text","frame":null}],"layout":{"margin":{"t":43.762557077625573,"r":7.3059360730593621,"b":40.182648401826491,"l":43.105022831050235},"font":{"color":"rgba(0,0,0,1)","family":"","size":14.611872146118724},"title":{"text":"Serie Original y Estimaciones de los Modelos (2019-2024)","font":{"color":"rgba(0,0,0,1)","family":"","size":17.534246575342465},"x":0,"xref":"paper"},"xaxis":{"domain":[0,1],"automargin":true,"type":"linear","autorange":false,"range":[1541488320,1706287680],"tickmode":"array","ticktext":["2020","2022","2024"],"tickvals":[1577836800,1640995200,1704067200],"categoryorder":"array","categoryarray":["2020","2022","2024"],"nticks":null,"ticks":"","tickcolor":null,"ticklen":3.6529680365296811,"tickwidth":0,"showticklabels":true,"tickfont":{"color":"rgba(77,77,77,1)","family":"","size":11.68949771689498},"tickangle":-0,"showline":false,"linecolor":null,"linewidth":0,"showgrid":true,"gridcolor":"rgba(235,235,235,1)","gridwidth":0.66417600664176002,"zeroline":false,"anchor":"y","title":{"text":"Tiempo","font":{"color":"rgba(0,0,0,1)","family":"","size":14.611872146118724}},"hoverformat":".2f"},"yaxis":{"domain":[0,1],"automargin":true,"type":"linear","autorange":false,"range":[118.47759792926087,168.7324631848881],"tickmode":"array","ticktext":["120","130","140","150","160"],"tickvals":[120,130,140,150,160],"categoryorder":"array","categoryarray":["120","130","140","150","160"],"nticks":null,"ticks":"","tickcolor":null,"ticklen":3.6529680365296811,"tickwidth":0,"showticklabels":true,"tickfont":{"color":"rgba(77,77,77,1)","family":"","size":11.68949771689498},"tickangle":-0,"showline":false,"linecolor":null,"linewidth":0,"showgrid":true,"gridcolor":"rgba(235,235,235,1)","gridwidth":0.66417600664176002,"zeroline":false,"anchor":"x","title":{"text":"Índice 2004 = 100","font":{"color":"rgba(0,0,0,1)","family":"","size":14.611872146118724}},"hoverformat":".2f"},"shapes":[{"type":"rect","fillcolor":null,"line":{"color":null,"width":0,"linetype":[]},"yref":"paper","xref":"paper","x0":0,"x1":1,"y0":0,"y1":1}],"showlegend":true,"legend":{"bgcolor":null,"bordercolor":null,"borderwidth":0,"font":{"color":"rgba(0,0,0,1)","family":"","size":11.68949771689498},"title":{"text":"Leyenda","font":{"color":"rgba(0,0,0,1)","family":"","size":14.611872146118724}}},"hovermode":"closest","barmode":"relative"},"config":{"doubleClick":"reset","modeBarButtonsToAdd":["hoverclosest","hovercompare"],"showSendToCloud":false},"source":"A","attrs":{"35f076a5d0a":{"x":{},"y":{},"colour":{},"type":"scatter"},"35f02160567b":{"x":{},"y":{},"colour":{}}},"cur_data":"35f076a5d0a","visdat":{"35f076a5d0a":["function (y) ","x"],"35f02160567b":["function (y) ","x"]},"highlight":{"on":"plotly_click","persistent":false,"dynamic":false,"selectize":false,"opacityDim":0.20000000000000001,"selected":{"opacity":1},"debounce":0},"shinyEvents":["plotly_hover","plotly_click","plotly_selected","plotly_relayout","plotly_brushed","plotly_brushing","plotly_clickannotation","plotly_doubleclick","plotly_deselect","plotly_afterplot","plotly_sunburstclick"],"base_url":"https://plot.ly"},"evals":[],"jsHooks":[]}</script>
</div>
</div>
</div>
<div id="diagnostico-del-modelo" class="section level1">
<h1>Diagnostico del Modelo</h1>
<p>Antes de proceder con las predicciones, es fundamental verificar que
los residuos del modelo, definidos como <span
class="math inline">\(\hat{a_t}=Z_t - \hat{Z_{t}}\)</span> cumplan con
los supuestos planteados a la hora de hacer el ajuste:</p>
<ol style="list-style-type: decimal">
<li><p><span class="math inline">\(E(a_t)=0\)</span>. Los residuos deben
tener media cero.</p></li>
<li><p><span class="math inline">\(V(a_t)=\sigma_a^2\)</span>. La
varianza de los residuos debe ser constante a lo largo del
tiempo.</p></li>
<li><p><strong>Independencia.</strong> Los residuos deben ser
incorrelados.</p></li>
<li><p><span class="math inline">\(a_t \sim N(0,\sigma_a^2)\)</span>.Los
residuos deben seguir una distribución asintóticamente Normal.</p></li>
</ol>
<div id="esperanza-y-variancia-de-los-residuos" class="section level2">
<h2>Esperanza y Variancia de los residuos</h2>
<p>Comenzaremos con un gráfico de Residuos vs Timepo para comprobar
esperanza y variancia constante</p>
<div class="sourceCode" id="cb12"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb12-1"><a href="#cb12-1" tabindex="-1"></a><span class="co"># Extraer los residuos del modelo &quot;auto&quot;</span></span>
<span id="cb12-2"><a href="#cb12-2" tabindex="-1"></a>residuos1 <span class="ot">&lt;-</span> <span class="fu">residuals</span>(fit_original, <span class="at">type =</span> <span class="st">&quot;response&quot;</span>) <span class="sc">%&gt;%</span></span>
<span id="cb12-3"><a href="#cb12-3" tabindex="-1"></a>  <span class="fu">filter</span>(.model <span class="sc">==</span> <span class="st">&quot;auto&quot;</span>)  <span class="co">#  modelo &quot;auto&quot;</span></span>
<span id="cb12-4"><a href="#cb12-4" tabindex="-1"></a>residuos2 <span class="ot">&lt;-</span> <span class="fu">residuals</span>(fit_original, <span class="at">type =</span> <span class="st">&quot;response&quot;</span>) <span class="sc">%&gt;%</span></span>
<span id="cb12-5"><a href="#cb12-5" tabindex="-1"></a>  <span class="fu">filter</span>(.model <span class="sc">==</span> <span class="st">&quot;arima11_2&quot;</span>)  <span class="co">#arima11_2</span></span>
<span id="cb12-6"><a href="#cb12-6" tabindex="-1"></a></span>
<span id="cb12-7"><a href="#cb12-7" tabindex="-1"></a><span class="co"># Graficar los residuos vs tiempo</span></span>
<span id="cb12-8"><a href="#cb12-8" tabindex="-1"></a>g1 <span class="ot">&lt;-</span> <span class="fu">ggplot</span>(residuos1, <span class="fu">aes</span>(<span class="at">x =</span> periodo, <span class="at">y =</span> .resid)) <span class="sc">+</span></span>
<span id="cb12-9"><a href="#cb12-9" tabindex="-1"></a>  <span class="fu">geom_point</span>(<span class="at">color =</span> <span class="st">&quot;#9933CC&quot;</span>) <span class="sc">+</span></span>
<span id="cb12-10"><a href="#cb12-10" tabindex="-1"></a>  <span class="fu">geom_hline</span>(<span class="at">yintercept =</span> <span class="dv">0</span>, <span class="at">linetype =</span> <span class="st">&quot;dashed&quot;</span>, <span class="at">color =</span> <span class="st">&quot;red&quot;</span>) <span class="sc">+</span></span>
<span id="cb12-11"><a href="#cb12-11" tabindex="-1"></a>  <span class="fu">labs</span>(</span>
<span id="cb12-12"><a href="#cb12-12" tabindex="-1"></a>    <span class="at">title =</span> <span class="st">&quot;Residuos Modelo Automatico&quot;</span>,</span>
<span id="cb12-13"><a href="#cb12-13" tabindex="-1"></a>    <span class="at">x =</span> <span class="st">&quot;&quot;</span>,</span>
<span id="cb12-14"><a href="#cb12-14" tabindex="-1"></a>    <span class="at">y =</span> <span class="st">&quot;Residuos&quot;</span></span>
<span id="cb12-15"><a href="#cb12-15" tabindex="-1"></a>  ) <span class="sc">+</span></span>
<span id="cb12-16"><a href="#cb12-16" tabindex="-1"></a>  <span class="fu">theme_minimal</span>()</span>
<span id="cb12-17"><a href="#cb12-17" tabindex="-1"></a>g2 <span class="ot">&lt;-</span> <span class="fu">ggplot</span>(residuos2, <span class="fu">aes</span>(<span class="at">x =</span> periodo, <span class="at">y =</span> .resid)) <span class="sc">+</span></span>
<span id="cb12-18"><a href="#cb12-18" tabindex="-1"></a>  <span class="fu">geom_point</span>(<span class="at">color =</span> <span class="st">&quot;#009933&quot;</span>) <span class="sc">+</span></span>
<span id="cb12-19"><a href="#cb12-19" tabindex="-1"></a>  <span class="fu">geom_hline</span>(<span class="at">yintercept =</span> <span class="dv">0</span>, <span class="at">linetype =</span> <span class="st">&quot;dashed&quot;</span>, <span class="at">color =</span> <span class="st">&quot;red&quot;</span>) <span class="sc">+</span></span>
<span id="cb12-20"><a href="#cb12-20" tabindex="-1"></a>  <span class="fu">labs</span>(</span>
<span id="cb12-21"><a href="#cb12-21" tabindex="-1"></a>    <span class="at">title =</span> <span class="st">&quot;Residuos Modelo Manual&quot;</span>,</span>
<span id="cb12-22"><a href="#cb12-22" tabindex="-1"></a>    <span class="at">x =</span> <span class="st">&quot;&quot;</span>,</span>
<span id="cb12-23"><a href="#cb12-23" tabindex="-1"></a>    <span class="at">y =</span> <span class="st">&quot;Residuos&quot;</span></span>
<span id="cb12-24"><a href="#cb12-24" tabindex="-1"></a>  ) <span class="sc">+</span></span>
<span id="cb12-25"><a href="#cb12-25" tabindex="-1"></a>  <span class="fu">theme_minimal</span>()</span>
<span id="cb12-26"><a href="#cb12-26" tabindex="-1"></a>g1<span class="sc">+</span>g2</span></code></pre></div>
<p><img src="index_files/figure-html/unnamed-chunk-11-1.png" width="100%" /></p>
<p>Se observan valores atípicos evidentes en marzo y abril de 2020,
correspondientes al inicio de la pandemia de COVID-19. Excluyendo estos
puntos, los residuos del modelo automático parecen mostrar una varianza
constante. En el caso del modelo identificado “manualmente,” se aprecia
un ligero incremento en la varianza que, sin embargo, podríamos
despreciar. Esta estabilidad en los residuos nos habla de dosbuenos
ajustes.</p>
</div>
<div id="independencia-de-los-residuos" class="section level2">
<h2>Independencia de los Residuos</h2>
<p>Continuamos nuestro análisis con uno el más importante de los
supuestos, la incorrelación de los residuos. Para evaluarlo, observamos
los gráficos de autocorrelación (FAC) de los residuos de ambos
modelos.</p>
<div class="sourceCode" id="cb13"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb13-1"><a href="#cb13-1" tabindex="-1"></a><span class="co"># Gráfico de autocorrelación para los residuos</span></span>
<span id="cb13-2"><a href="#cb13-2" tabindex="-1"></a><span class="co"># acf(residuos1$.resid, main = &quot;Autocorrelación de los residuos&quot;, lag.max = 48)</span></span>
<span id="cb13-3"><a href="#cb13-3" tabindex="-1"></a><span class="co"># acf(residuos2$.resid, main = &quot;Autocorrelación de los residuos&quot;, lag.max = 48)</span></span>
<span id="cb13-4"><a href="#cb13-4" tabindex="-1"></a></span>
<span id="cb13-5"><a href="#cb13-5" tabindex="-1"></a>acf1_data <span class="ot">&lt;-</span> <span class="fu">acf</span>(residuos1<span class="sc">$</span>.resid, <span class="at">plot =</span> <span class="cn">FALSE</span>)</span>
<span id="cb13-6"><a href="#cb13-6" tabindex="-1"></a>acf2_data <span class="ot">&lt;-</span> <span class="fu">acf</span>(residuos2<span class="sc">$</span>.resid, <span class="at">plot =</span> <span class="cn">FALSE</span>)</span>
<span id="cb13-7"><a href="#cb13-7" tabindex="-1"></a>acf_df <span class="ot">&lt;-</span> <span class="fu">data.frame</span>(</span>
<span id="cb13-8"><a href="#cb13-8" tabindex="-1"></a>  <span class="at">Lag1 =</span> acf1_data<span class="sc">$</span>lag,</span>
<span id="cb13-9"><a href="#cb13-9" tabindex="-1"></a>  <span class="at">ACF1 =</span> acf1_data<span class="sc">$</span>acf,</span>
<span id="cb13-10"><a href="#cb13-10" tabindex="-1"></a>  <span class="at">Lag2 =</span> acf2_data<span class="sc">$</span>lag,</span>
<span id="cb13-11"><a href="#cb13-11" tabindex="-1"></a>  <span class="at">ACF2 =</span> acf2_data<span class="sc">$</span>acf</span>
<span id="cb13-12"><a href="#cb13-12" tabindex="-1"></a>)</span>
<span id="cb13-13"><a href="#cb13-13" tabindex="-1"></a></span>
<span id="cb13-14"><a href="#cb13-14" tabindex="-1"></a><span class="co"># Graficar autocorrelación con ggplot</span></span>
<span id="cb13-15"><a href="#cb13-15" tabindex="-1"></a>r1 <span class="ot">&lt;-</span> <span class="fu">ggplot</span>(acf_df, <span class="fu">aes</span>(<span class="at">x =</span> Lag1, <span class="at">y =</span> ACF1)) <span class="sc">+</span></span>
<span id="cb13-16"><a href="#cb13-16" tabindex="-1"></a>  <span class="fu">geom_bar</span>(<span class="at">stat =</span> <span class="st">&quot;identity&quot;</span>, <span class="at">fill =</span> <span class="st">&quot;#9933CC&quot;</span>, <span class="at">alpha =</span> <span class="fl">0.7</span>, <span class="at">width =</span> <span class="fl">0.2</span>) <span class="sc">+</span></span>
<span id="cb13-17"><a href="#cb13-17" tabindex="-1"></a>  <span class="fu">geom_hline</span>(<span class="at">yintercept =</span> <span class="dv">0</span>, <span class="at">color =</span> <span class="st">&quot;black&quot;</span>) <span class="sc">+</span></span>
<span id="cb13-18"><a href="#cb13-18" tabindex="-1"></a>  <span class="fu">geom_hline</span>(<span class="at">yintercept =</span> <span class="fu">c</span>(<span class="sc">-</span><span class="fl">1.96</span> <span class="sc">/</span> <span class="fu">sqrt</span>(<span class="fu">length</span>(residuos1<span class="sc">$</span>.resid)),</span>
<span id="cb13-19"><a href="#cb13-19" tabindex="-1"></a>                            <span class="fl">1.96</span> <span class="sc">/</span> <span class="fu">sqrt</span>(<span class="fu">length</span>(residuos1<span class="sc">$</span>.resid))),</span>
<span id="cb13-20"><a href="#cb13-20" tabindex="-1"></a>             <span class="at">linetype =</span> <span class="st">&quot;dashed&quot;</span>, <span class="at">color =</span> <span class="st">&quot;red&quot;</span>) <span class="sc">+</span></span>
<span id="cb13-21"><a href="#cb13-21" tabindex="-1"></a>  <span class="fu">labs</span>(<span class="at">title =</span> <span class="st">&quot;Autocorrelación Modelo Automatico&quot;</span>, </span>
<span id="cb13-22"><a href="#cb13-22" tabindex="-1"></a>       <span class="at">x =</span> <span class="st">&quot;Lags&quot;</span>,</span>
<span id="cb13-23"><a href="#cb13-23" tabindex="-1"></a>       <span class="at">y =</span> <span class="st">&quot;Autocorrelación de residuos&quot;</span>) <span class="sc">+</span></span>
<span id="cb13-24"><a href="#cb13-24" tabindex="-1"></a>  <span class="fu">theme_minimal</span>()</span>
<span id="cb13-25"><a href="#cb13-25" tabindex="-1"></a>r2 <span class="ot">&lt;-</span> <span class="fu">ggplot</span>(acf_df, <span class="fu">aes</span>(<span class="at">x =</span> Lag2, <span class="at">y =</span> ACF2)) <span class="sc">+</span></span>
<span id="cb13-26"><a href="#cb13-26" tabindex="-1"></a>  <span class="fu">geom_bar</span>(<span class="at">stat =</span> <span class="st">&quot;identity&quot;</span>, <span class="at">fill =</span> <span class="st">&quot;#009933&quot;</span>, <span class="at">alpha =</span> <span class="fl">0.7</span>, <span class="at">width =</span> <span class="fl">0.2</span>) <span class="sc">+</span></span>
<span id="cb13-27"><a href="#cb13-27" tabindex="-1"></a>  <span class="fu">geom_hline</span>(<span class="at">yintercept =</span> <span class="dv">0</span>, <span class="at">color =</span> <span class="st">&quot;black&quot;</span>) <span class="sc">+</span></span>
<span id="cb13-28"><a href="#cb13-28" tabindex="-1"></a>  <span class="fu">geom_hline</span>(<span class="at">yintercept =</span> <span class="fu">c</span>(<span class="sc">-</span><span class="fl">1.96</span> <span class="sc">/</span> <span class="fu">sqrt</span>(<span class="fu">length</span>(residuos2<span class="sc">$</span>.resid)),</span>
<span id="cb13-29"><a href="#cb13-29" tabindex="-1"></a>                            <span class="fl">1.96</span> <span class="sc">/</span> <span class="fu">sqrt</span>(<span class="fu">length</span>(residuos2<span class="sc">$</span>.resid))),</span>
<span id="cb13-30"><a href="#cb13-30" tabindex="-1"></a>             <span class="at">linetype =</span> <span class="st">&quot;dashed&quot;</span>, <span class="at">color =</span> <span class="st">&quot;red&quot;</span>) <span class="sc">+</span></span>
<span id="cb13-31"><a href="#cb13-31" tabindex="-1"></a>  <span class="fu">labs</span>(<span class="at">title =</span> <span class="st">&quot;Autocorrelación Modelo Manual&quot;</span>, </span>
<span id="cb13-32"><a href="#cb13-32" tabindex="-1"></a>       <span class="at">x =</span> <span class="st">&quot;Lags&quot;</span>,</span>
<span id="cb13-33"><a href="#cb13-33" tabindex="-1"></a>       <span class="at">y =</span> <span class="st">&quot;Autocorrelación de residuos&quot;</span>) <span class="sc">+</span></span>
<span id="cb13-34"><a href="#cb13-34" tabindex="-1"></a>  <span class="fu">theme_minimal</span>()</span>
<span id="cb13-35"><a href="#cb13-35" tabindex="-1"></a>r1<span class="sc">+</span>r2</span></code></pre></div>
<p><img src="index_files/figure-html/unnamed-chunk-12-1.png" width="100%" /></p>
<p>En el caso del modelo automático, la FAC muestra un comportamiento
consistente con un <em>ruido blanco</em>, con la excepción de un bastón
significativo en un rezago mayor al 20. Esto sugiere que, en general,
los residuos están incorrelados.</p>
<p>Por otro lado, la FAC de los residuos del modelo identificado
manualmente revela varios rezagos significativos antes del lag 15, lo
que indica que estos residuos no se comportan completamente como un
<em>ruido blanco</em>. Este hallazgo podría reflejar deficiencias en el
ajuste de este modelo, especialmente al momento de realizar
predicciones.</p>
</div>
<div id="normalidad-de-los-residuos" class="section level2">
<h2>Normalidad de los Residuos</h2>
<p>Finalmente, observamos un histograma y un Q-Q plot de los residuos
para evaluar su proximidad a una distribución normal.</p>
<div class="sourceCode" id="cb14"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb14-1"><a href="#cb14-1" tabindex="-1"></a><span class="co"># Histograma de los residuos</span></span>
<span id="cb14-2"><a href="#cb14-2" tabindex="-1"></a>h1 <span class="ot">&lt;-</span> <span class="fu">ggplot</span>(residuos1, <span class="fu">aes</span>(<span class="at">x =</span> .resid)) <span class="sc">+</span></span>
<span id="cb14-3"><a href="#cb14-3" tabindex="-1"></a>  <span class="fu">geom_histogram</span>(<span class="fu">aes</span>(<span class="at">y =</span> ..density..), <span class="at">bins =</span> <span class="dv">30</span>, <span class="at">fill =</span> <span class="st">&quot;#9933CC&quot;</span>, <span class="at">alpha =</span> <span class="fl">0.7</span>) <span class="sc">+</span></span>
<span id="cb14-4"><a href="#cb14-4" tabindex="-1"></a>  <span class="fu">geom_density</span>(<span class="at">color =</span> <span class="st">&quot;red&quot;</span>, <span class="at">size =</span> <span class="dv">1</span>) <span class="sc">+</span></span>
<span id="cb14-5"><a href="#cb14-5" tabindex="-1"></a>  <span class="fu">labs</span>(</span>
<span id="cb14-6"><a href="#cb14-6" tabindex="-1"></a>    <span class="at">title =</span> <span class="st">&quot;Histograma de modelo automatico&quot;</span>,</span>
<span id="cb14-7"><a href="#cb14-7" tabindex="-1"></a>    <span class="at">x =</span> <span class="st">&quot;Residuos&quot;</span>,</span>
<span id="cb14-8"><a href="#cb14-8" tabindex="-1"></a>    <span class="at">y =</span> <span class="st">&quot;Densidad&quot;</span></span>
<span id="cb14-9"><a href="#cb14-9" tabindex="-1"></a>  ) <span class="sc">+</span></span>
<span id="cb14-10"><a href="#cb14-10" tabindex="-1"></a>  <span class="fu">theme_minimal</span>()</span>
<span id="cb14-11"><a href="#cb14-11" tabindex="-1"></a></span>
<span id="cb14-12"><a href="#cb14-12" tabindex="-1"></a><span class="co"># QQ-Plot normal</span></span>
<span id="cb14-13"><a href="#cb14-13" tabindex="-1"></a>qq1 <span class="ot">&lt;-</span> <span class="fu">ggplot</span>(residuos1, <span class="fu">aes</span>(<span class="at">sample =</span> .resid)) <span class="sc">+</span></span>
<span id="cb14-14"><a href="#cb14-14" tabindex="-1"></a>  <span class="fu">stat_qq</span>(<span class="at">color =</span> <span class="st">&quot;#9933CC&quot;</span>) <span class="sc">+</span></span>
<span id="cb14-15"><a href="#cb14-15" tabindex="-1"></a>  <span class="fu">stat_qq_line</span>(<span class="at">color =</span> <span class="st">&quot;red&quot;</span>, <span class="at">linetype =</span> <span class="st">&quot;dashed&quot;</span>) <span class="sc">+</span></span>
<span id="cb14-16"><a href="#cb14-16" tabindex="-1"></a>  <span class="fu">labs</span>(</span>
<span id="cb14-17"><a href="#cb14-17" tabindex="-1"></a>    <span class="at">title =</span> <span class="st">&quot;QQ-Plot de los residuos&quot;</span>,</span>
<span id="cb14-18"><a href="#cb14-18" tabindex="-1"></a>    <span class="at">x =</span> <span class="st">&quot;Cuantiles teoricos&quot;</span>,</span>
<span id="cb14-19"><a href="#cb14-19" tabindex="-1"></a>    <span class="at">y =</span> <span class="st">&quot;Cuantiles de los residuos&quot;</span></span>
<span id="cb14-20"><a href="#cb14-20" tabindex="-1"></a>  ) <span class="sc">+</span></span>
<span id="cb14-21"><a href="#cb14-21" tabindex="-1"></a>  <span class="fu">theme_minimal</span>()</span>
<span id="cb14-22"><a href="#cb14-22" tabindex="-1"></a></span>
<span id="cb14-23"><a href="#cb14-23" tabindex="-1"></a>h2 <span class="ot">&lt;-</span> <span class="fu">ggplot</span>(residuos2, <span class="fu">aes</span>(<span class="at">x =</span> .resid)) <span class="sc">+</span></span>
<span id="cb14-24"><a href="#cb14-24" tabindex="-1"></a>  <span class="fu">geom_histogram</span>(<span class="fu">aes</span>(<span class="at">y =</span> ..density..), <span class="at">bins =</span> <span class="dv">30</span>, <span class="at">fill =</span> <span class="st">&quot;#009933&quot;</span>, <span class="at">alpha =</span> <span class="fl">0.7</span>) <span class="sc">+</span></span>
<span id="cb14-25"><a href="#cb14-25" tabindex="-1"></a>  <span class="fu">geom_density</span>(<span class="at">color =</span> <span class="st">&quot;red&quot;</span>, <span class="at">size =</span> <span class="dv">1</span>) <span class="sc">+</span></span>
<span id="cb14-26"><a href="#cb14-26" tabindex="-1"></a>  <span class="fu">labs</span>(</span>
<span id="cb14-27"><a href="#cb14-27" tabindex="-1"></a>    <span class="at">title =</span> <span class="st">&quot;Histograma de modelo manual&quot;</span>,</span>
<span id="cb14-28"><a href="#cb14-28" tabindex="-1"></a>    <span class="at">x =</span> <span class="st">&quot;Residuos&quot;</span>,</span>
<span id="cb14-29"><a href="#cb14-29" tabindex="-1"></a>    <span class="at">y =</span> <span class="st">&quot;Densidad&quot;</span></span>
<span id="cb14-30"><a href="#cb14-30" tabindex="-1"></a>  ) <span class="sc">+</span></span>
<span id="cb14-31"><a href="#cb14-31" tabindex="-1"></a>  <span class="fu">theme_minimal</span>()</span>
<span id="cb14-32"><a href="#cb14-32" tabindex="-1"></a></span>
<span id="cb14-33"><a href="#cb14-33" tabindex="-1"></a><span class="co"># QQ-Plot normal</span></span>
<span id="cb14-34"><a href="#cb14-34" tabindex="-1"></a>qq2 <span class="ot">&lt;-</span> <span class="fu">ggplot</span>(residuos2, <span class="fu">aes</span>(<span class="at">sample =</span> .resid)) <span class="sc">+</span></span>
<span id="cb14-35"><a href="#cb14-35" tabindex="-1"></a>  <span class="fu">stat_qq</span>(<span class="at">color =</span> <span class="st">&quot;#009933&quot;</span>) <span class="sc">+</span></span>
<span id="cb14-36"><a href="#cb14-36" tabindex="-1"></a>  <span class="fu">stat_qq_line</span>(<span class="at">color =</span> <span class="st">&quot;red&quot;</span>, <span class="at">linetype =</span> <span class="st">&quot;dashed&quot;</span>) <span class="sc">+</span></span>
<span id="cb14-37"><a href="#cb14-37" tabindex="-1"></a>  <span class="fu">labs</span>(</span>
<span id="cb14-38"><a href="#cb14-38" tabindex="-1"></a>    <span class="at">title =</span> <span class="st">&quot;QQ-Plot de los residuos&quot;</span>,</span>
<span id="cb14-39"><a href="#cb14-39" tabindex="-1"></a>    <span class="at">x =</span> <span class="st">&quot;Cuantiles teoricos&quot;</span>,</span>
<span id="cb14-40"><a href="#cb14-40" tabindex="-1"></a>    <span class="at">y =</span> <span class="st">&quot;Cuantiles de los residuos&quot;</span></span>
<span id="cb14-41"><a href="#cb14-41" tabindex="-1"></a>  ) <span class="sc">+</span></span>
<span id="cb14-42"><a href="#cb14-42" tabindex="-1"></a>  <span class="fu">theme_minimal</span>()</span>
<span id="cb14-43"><a href="#cb14-43" tabindex="-1"></a></span>
<span id="cb14-44"><a href="#cb14-44" tabindex="-1"></a>(h1<span class="sc">+</span>h2) <span class="sc">/</span> (qq1<span class="sc">+</span>qq2)</span></code></pre></div>
<p><img src="index_files/figure-html/unnamed-chunk-13-1.png" width="100%" />
Si bien identificamos la presencia de outliers (Marzo y Abril de 2020),
los cuales desvían la distribución de los residuos de la normalidad,
esto no es motivo de preocupación ya que el supuesto de normalidad no es
estrictamente necesario para la calidad del modelo. Utilizamos este
supuesto para construir intervalos de confianza en nuestras
prediccione.</p>
</div>
</div>
<div id="predicción" class="section level1">
<h1>Predicción</h1>
<p>Una vez seleccionado el modelo más adecuado y comprobados los
supuestos estadísticos, avanzamos a la parte más enriquecedora de
nuestro análisis: la predicción.</p>
<p>En esta sección, presentamos las predicciones generadas para los
meses de enero a agosto de 2024. Compararemos estas proyecciones con los
valores reales observados en dicho período, permitiéndonos evaluar el
desempeño y la eficiencia de nuestro modelo ajustado.</p>
<p>Este análisis no solo nos proporcionará una medida de la precisión
del modelo, sino que también permitirá identificar posibles ajustes o
mejoras que podrían ser necesarios en futuros escenarios.</p>
<div class="sourceCode" id="cb15"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb15-1"><a href="#cb15-1" tabindex="-1"></a><span class="co"># Filtramos los datos recientes</span></span>
<span id="cb15-2"><a href="#cb15-2" tabindex="-1"></a>emae_mensual_ts_recent <span class="ot">&lt;-</span> emae_mensual_ts  <span class="sc">%&gt;%</span>  </span>
<span id="cb15-3"><a href="#cb15-3" tabindex="-1"></a>  <span class="fu">filter</span>(periodo <span class="sc">&gt;=</span> <span class="fu">as.Date</span>(<span class="st">&quot;2021-06-01&quot;</span>))  </span>
<span id="cb15-4"><a href="#cb15-4" tabindex="-1"></a></span>
<span id="cb15-5"><a href="#cb15-5" tabindex="-1"></a><span class="co"># Forecast</span></span>
<span id="cb15-6"><a href="#cb15-6" tabindex="-1"></a>f1 <span class="ot">&lt;-</span> <span class="fu">forecast</span>(fit_original, <span class="at">h =</span> <span class="dv">8</span>)  <span class="sc">%&gt;%</span></span>
<span id="cb15-7"><a href="#cb15-7" tabindex="-1"></a>  <span class="fu">filter</span>(.model <span class="sc">==</span> <span class="st">&#39;auto&#39;</span>)</span>
<span id="cb15-8"><a href="#cb15-8" tabindex="-1"></a>f2 <span class="ot">&lt;-</span> <span class="fu">forecast</span>(fit_original, <span class="at">h =</span> <span class="dv">8</span>)  <span class="sc">%&gt;%</span></span>
<span id="cb15-9"><a href="#cb15-9" tabindex="-1"></a>  <span class="fu">filter</span>(.model <span class="sc">==</span> <span class="st">&#39;arima11_2&#39;</span>)</span>
<span id="cb15-10"><a href="#cb15-10" tabindex="-1"></a></span>
<span id="cb15-11"><a href="#cb15-11" tabindex="-1"></a>values_to_predict_df <span class="ot">&lt;-</span> <span class="fu">data.frame</span>(</span>
<span id="cb15-12"><a href="#cb15-12" tabindex="-1"></a>  <span class="at">periodo =</span> <span class="fu">seq</span>(<span class="at">from =</span> <span class="fu">as.Date</span>(<span class="st">&quot;2024-01-01&quot;</span>), <span class="at">by =</span> <span class="st">&quot;month&quot;</span>, <span class="at">length.out =</span> <span class="fu">length</span>(values_to_predict)),</span>
<span id="cb15-13"><a href="#cb15-13" tabindex="-1"></a>  <span class="at">values =</span> values_to_predict</span>
<span id="cb15-14"><a href="#cb15-14" tabindex="-1"></a>)</span>
<span id="cb15-15"><a href="#cb15-15" tabindex="-1"></a></span>
<span id="cb15-16"><a href="#cb15-16" tabindex="-1"></a><span class="co"># Gráfico</span></span>
<span id="cb15-17"><a href="#cb15-17" tabindex="-1"></a>g1 <span class="ot">&lt;-</span> <span class="fu">autoplot</span>(emae_mensual_ts_recent) <span class="sc">+</span> </span>
<span id="cb15-18"><a href="#cb15-18" tabindex="-1"></a>  <span class="fu">autolayer</span>(f1, <span class="at">series =</span> <span class="st">&quot;Prediccion&quot;</span>, <span class="at">color =</span> <span class="st">&quot;#9933CC&quot;</span>) <span class="sc">+</span> </span>
<span id="cb15-19"><a href="#cb15-19" tabindex="-1"></a>  <span class="fu">autolayer</span>(emae_mensual_ts_recent, <span class="at">series =</span> <span class="st">&quot;Serie Original&quot;</span>, <span class="at">color =</span> <span class="st">&quot;cyan4&quot;</span>) <span class="sc">+</span> </span>
<span id="cb15-20"><a href="#cb15-20" tabindex="-1"></a>  <span class="fu">geom_point</span>(<span class="at">data =</span> values_to_predict_df, <span class="fu">aes</span>(<span class="at">x =</span> periodo, <span class="at">y =</span> values), <span class="at">color =</span> <span class="st">&quot;cyan4&quot;</span>, <span class="at">size =</span> <span class="dv">2</span>, <span class="at">shape =</span> <span class="dv">18</span>) <span class="sc">+</span> <span class="co"># Valores reales</span></span>
<span id="cb15-21"><a href="#cb15-21" tabindex="-1"></a>  <span class="fu">labs</span>(</span>
<span id="cb15-22"><a href="#cb15-22" tabindex="-1"></a>    <span class="at">title =</span> <span class="st">&quot;EMAE con predicciones del modelo automático y valores reales&quot;</span>,</span>
<span id="cb15-23"><a href="#cb15-23" tabindex="-1"></a>    <span class="at">y =</span> <span class="st">&quot;Indice (2004 = 100)&quot;</span>,</span>
<span id="cb15-24"><a href="#cb15-24" tabindex="-1"></a>    <span class="at">x =</span> <span class="st">&quot;&quot;</span></span>
<span id="cb15-25"><a href="#cb15-25" tabindex="-1"></a>  ) <span class="sc">+</span></span>
<span id="cb15-26"><a href="#cb15-26" tabindex="-1"></a>  <span class="fu">theme_minimal</span>() <span class="sc">+</span></span>
<span id="cb15-27"><a href="#cb15-27" tabindex="-1"></a>  <span class="fu">theme</span>(<span class="at">legend.title =</span> <span class="fu">element_blank</span>())</span>
<span id="cb15-28"><a href="#cb15-28" tabindex="-1"></a>g2 <span class="ot">&lt;-</span> <span class="fu">autoplot</span>(emae_mensual_ts_recent) <span class="sc">+</span> </span>
<span id="cb15-29"><a href="#cb15-29" tabindex="-1"></a>  <span class="fu">autolayer</span>(f2, <span class="at">series =</span> <span class="st">&quot;Prediccion&quot;</span>, <span class="at">color =</span> <span class="st">&quot;#009933&quot;</span>) <span class="sc">+</span> </span>
<span id="cb15-30"><a href="#cb15-30" tabindex="-1"></a>  <span class="fu">autolayer</span>(emae_mensual_ts_recent, <span class="at">series =</span> <span class="st">&quot;Serie Original&quot;</span>, <span class="at">color =</span> <span class="st">&quot;cyan4&quot;</span>) <span class="sc">+</span> </span>
<span id="cb15-31"><a href="#cb15-31" tabindex="-1"></a>  <span class="fu">geom_point</span>(<span class="at">data =</span> values_to_predict_df, <span class="fu">aes</span>(<span class="at">x =</span> periodo, <span class="at">y =</span> values), <span class="at">color =</span> <span class="st">&quot;cyan4&quot;</span>, <span class="at">size =</span> <span class="dv">2</span>, <span class="at">shape =</span> <span class="dv">18</span>) <span class="sc">+</span> <span class="co"># Valores reales</span></span>
<span id="cb15-32"><a href="#cb15-32" tabindex="-1"></a>  <span class="fu">labs</span>(</span>
<span id="cb15-33"><a href="#cb15-33" tabindex="-1"></a>    <span class="at">title =</span> <span class="st">&quot;EMAE con predicciones del modelo manual y valores reales&quot;</span>,</span>
<span id="cb15-34"><a href="#cb15-34" tabindex="-1"></a>    <span class="at">y =</span> <span class="st">&quot;Indice (2004 = 100)&quot;</span>,</span>
<span id="cb15-35"><a href="#cb15-35" tabindex="-1"></a>    <span class="at">x =</span> <span class="st">&quot;&quot;</span></span>
<span id="cb15-36"><a href="#cb15-36" tabindex="-1"></a>  ) <span class="sc">+</span></span>
<span id="cb15-37"><a href="#cb15-37" tabindex="-1"></a>  <span class="fu">theme_minimal</span>() <span class="sc">+</span></span>
<span id="cb15-38"><a href="#cb15-38" tabindex="-1"></a>  <span class="fu">theme</span>(<span class="at">legend.title =</span> <span class="fu">element_blank</span>())</span>
<span id="cb15-39"><a href="#cb15-39" tabindex="-1"></a>g1<span class="sc">/</span>g2</span></code></pre></div>
<p><img src="index_files/figure-html/unnamed-chunk-14-1.png" width="100%" /></p>
<div class="sourceCode" id="cb16"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb16-1"><a href="#cb16-1" tabindex="-1"></a>gp <span class="ot">&lt;-</span> <span class="fu">autoplot</span>(emae_mensual_ts_recent) <span class="sc">+</span> </span>
<span id="cb16-2"><a href="#cb16-2" tabindex="-1"></a>  <span class="fu">autolayer</span>(f1, <span class="at">series =</span> <span class="st">&quot;auto&quot;</span>, <span class="at">color =</span> <span class="st">&quot;#9933CC&quot;</span>) <span class="sc">+</span> </span>
<span id="cb16-3"><a href="#cb16-3" tabindex="-1"></a>  <span class="fu">autolayer</span>(f2, <span class="at">series =</span> <span class="st">&quot;arima11_2&quot;</span>, <span class="at">color =</span> <span class="st">&quot;#009933&quot;</span>) <span class="sc">+</span> </span>
<span id="cb16-4"><a href="#cb16-4" tabindex="-1"></a>  <span class="fu">autolayer</span>(emae_mensual_ts_recent, <span class="at">series =</span> <span class="st">&quot;Serie Original&quot;</span>, <span class="at">color =</span> <span class="st">&quot;cyan4&quot;</span>) <span class="sc">+</span> </span>
<span id="cb16-5"><a href="#cb16-5" tabindex="-1"></a>  <span class="fu">geom_point</span>(<span class="at">data =</span> values_to_predict_df, <span class="fu">aes</span>(<span class="at">x =</span> periodo, <span class="at">y =</span> values), <span class="at">color =</span> <span class="st">&quot;cyan4&quot;</span>, <span class="at">size =</span> <span class="dv">2</span>, <span class="at">shape =</span> <span class="dv">18</span>) <span class="sc">+</span> <span class="co"># Valores reales</span></span>
<span id="cb16-6"><a href="#cb16-6" tabindex="-1"></a>  <span class="fu">labs</span>(</span>
<span id="cb16-7"><a href="#cb16-7" tabindex="-1"></a>    <span class="at">title =</span> <span class="st">&quot;EMAE con predicciones del modelo manual y valores reales&quot;</span>,</span>
<span id="cb16-8"><a href="#cb16-8" tabindex="-1"></a>    <span class="at">y =</span> <span class="st">&quot;Indice (2004 = 100)&quot;</span>,</span>
<span id="cb16-9"><a href="#cb16-9" tabindex="-1"></a>    <span class="at">x =</span> <span class="st">&quot;&quot;</span>,</span>
<span id="cb16-10"><a href="#cb16-10" tabindex="-1"></a>    <span class="at">color =</span> <span class="st">&quot;Leyenda&quot;</span></span>
<span id="cb16-11"><a href="#cb16-11" tabindex="-1"></a>  ) <span class="sc">+</span></span>
<span id="cb16-12"><a href="#cb16-12" tabindex="-1"></a>  <span class="fu">theme_minimal</span>() <span class="sc">+</span></span>
<span id="cb16-13"><a href="#cb16-13" tabindex="-1"></a>  <span class="fu">scale_color_manual</span>(<span class="at">values =</span> <span class="fu">c</span>(<span class="st">&quot;Serie Original&quot;</span> <span class="ot">=</span> <span class="st">&quot;cyan4&quot;</span>, <span class="st">&quot;arima11_2&quot;</span> <span class="ot">=</span> <span class="st">&quot;#009933&quot;</span>, <span class="st">&quot;auto&quot;</span> <span class="ot">=</span> <span class="st">&quot;#9933CC&quot;</span>))</span>
<span id="cb16-14"><a href="#cb16-14" tabindex="-1"></a></span>
<span id="cb16-15"><a href="#cb16-15" tabindex="-1"></a><span class="fu">ggplotly</span>(gp)</span></code></pre></div>
<div class="plotly html-widget html-fill-item" id="htmlwidget-efd03bd0622373c8d069" style="width:100%;height:480px;"></div>
<script type="application/json" data-for="htmlwidget-efd03bd0622373c8d069">{"x":{"data":[{"x":[18779,18809,18840,18871,18901,18932,18962,18993,19024,19052,19083,19113,19144,19174,19205,19236,19266,19297,19327,19358,19389,19417,19448,19478,19509,19539,19570,19601,19631,19662,19692],"y":[148.97966150182666,142.42605450402064,140.97500035125495,141.2958880231437,139.5141180714873,143.75160757157784,147.23078899363611,139.46393618095945,138.00627023452296,153.92755975942296,156.07720298707443,163.1169209317496,159.60238464157831,151.36803877512625,150.48692297482046,148.30621498849308,144.90675648008252,146.5032300333165,144.49762202987208,143.02667812567447,137.60337495838098,155.36191563919746,149.13939542809894,152.72491353284434,151.64682485808871,148.9520606213155,150.72812492463484,147.54797773000911,146.67763411363745,145.52988172542135,138.38645136460997],"text":["periodo: 2021 jun.<br />emae_original: 148.9797","periodo: 2021 jul.<br />emae_original: 142.4261","periodo: 2021 ago.<br />emae_original: 140.9750","periodo: 2021 sep.<br />emae_original: 141.2959","periodo: 2021 oct.<br />emae_original: 139.5141","periodo: 2021 nov.<br />emae_original: 143.7516","periodo: 2021 dic.<br />emae_original: 147.2308","periodo: 2022 ene.<br />emae_original: 139.4639","periodo: 2022 feb.<br />emae_original: 138.0063","periodo: 2022 mar.<br />emae_original: 153.9276","periodo: 2022 abr.<br />emae_original: 156.0772","periodo: 2022 may.<br />emae_original: 163.1169","periodo: 2022 jun.<br />emae_original: 159.6024","periodo: 2022 jul.<br />emae_original: 151.3680","periodo: 2022 ago.<br />emae_original: 150.4869","periodo: 2022 sep.<br />emae_original: 148.3062","periodo: 2022 oct.<br />emae_original: 144.9068","periodo: 2022 nov.<br />emae_original: 146.5032","periodo: 2022 dic.<br />emae_original: 144.4976","periodo: 2023 ene.<br />emae_original: 143.0267","periodo: 2023 feb.<br />emae_original: 137.6034","periodo: 2023 mar.<br />emae_original: 155.3619","periodo: 2023 abr.<br />emae_original: 149.1394","periodo: 2023 may.<br />emae_original: 152.7249","periodo: 2023 jun.<br />emae_original: 151.6468","periodo: 2023 jul.<br />emae_original: 148.9521","periodo: 2023 ago.<br />emae_original: 150.7281","periodo: 2023 sep.<br />emae_original: 147.5480","periodo: 2023 oct.<br />emae_original: 146.6776","periodo: 2023 nov.<br />emae_original: 145.5299","periodo: 2023 dic.<br />emae_original: 138.3865"],"type":"scatter","mode":"lines","line":{"width":1.8897637795275593,"color":"rgba(0,139,139,1)","dash":"solid"},"hoveron":"points","showlegend":false,"xaxis":"x","yaxis":"y","hoverinfo":"text","frame":null},{"showlegend":false,"xaxis":"x","yaxis":"y","hoverinfo":"text","mode":"","frame":null},{"x":[19723,19754,19783,19814,19844,19875,19905,19936],"y":[136.5469826131627,133.46144740594764,146.6191259703478,140.62482796477255,150.27372538394289,146.34565638433463,141.84958723364687,141.11519938839791],"text":["periodo: 2024 ene.<br />interaction(format(.model), sep = \"/\"): auto<br />emae_original: 136.5470","periodo: 2024 feb.<br />interaction(format(.model), sep = \"/\"): auto<br />emae_original: 133.4614","periodo: 2024 mar.<br />interaction(format(.model), sep = \"/\"): auto<br />emae_original: 146.6191","periodo: 2024 abr.<br />interaction(format(.model), sep = \"/\"): auto<br />emae_original: 140.6248","periodo: 2024 may.<br />interaction(format(.model), sep = \"/\"): auto<br />emae_original: 150.2737","periodo: 2024 jun.<br />interaction(format(.model), sep = \"/\"): auto<br />emae_original: 146.3457","periodo: 2024 jul.<br />interaction(format(.model), sep = \"/\"): auto<br />emae_original: 141.8496","periodo: 2024 ago.<br />interaction(format(.model), sep = \"/\"): auto<br />emae_original: 141.1152"],"type":"scatter","mode":"lines","line":{"width":1.8897637795275593,"color":"rgba(153,51,204,1)","dash":"solid"},"hoveron":"points","showlegend":false,"xaxis":"x","yaxis":"y","hoverinfo":"text","frame":null},{"x":[19723,19754,19783,19814,19844,19875,19905,19936],"y":[135.6372016026005,131.31928990865148,149.50427557552652,147.42837462008433,152.0093002916974,150.28574634127639,145.48816237753533,145.92662355363899],"text":["periodo: 2024 ene.<br />interaction(format(.model), sep = \"/\"): arima11_2<br />emae_original: 135.6372","periodo: 2024 feb.<br />interaction(format(.model), sep = \"/\"): arima11_2<br />emae_original: 131.3193","periodo: 2024 mar.<br />interaction(format(.model), sep = \"/\"): arima11_2<br />emae_original: 149.5043","periodo: 2024 abr.<br />interaction(format(.model), sep = \"/\"): arima11_2<br />emae_original: 147.4284","periodo: 2024 may.<br />interaction(format(.model), sep = \"/\"): arima11_2<br />emae_original: 152.0093","periodo: 2024 jun.<br />interaction(format(.model), sep = \"/\"): arima11_2<br />emae_original: 150.2857","periodo: 2024 jul.<br />interaction(format(.model), sep = \"/\"): arima11_2<br />emae_original: 145.4882","periodo: 2024 ago.<br />interaction(format(.model), sep = \"/\"): arima11_2<br />emae_original: 145.9266"],"type":"scatter","mode":"lines","line":{"width":1.8897637795275593,"color":"rgba(0,153,51,1)","dash":"solid"},"hoveron":"points","showlegend":false,"xaxis":"x","yaxis":"y","hoverinfo":"text","frame":null},{"x":[19723,19754,19783,19814,19844,19875,19905,19936],"y":[137.3468226288791,133.77690161681721,142.39004762046349,145.54606060814723,154.94493235673102,145.46129930374886,147.57385069478326,144.95070069321039],"text":["periodo: 2024-01-01<br />values: 137.3468","periodo: 2024-02-01<br />values: 133.7769","periodo: 2024-03-01<br />values: 142.3900","periodo: 2024-04-01<br />values: 145.5461","periodo: 2024-05-01<br />values: 154.9449","periodo: 2024-06-01<br />values: 145.4613","periodo: 2024-07-01<br />values: 147.5739","periodo: 2024-08-01<br />values: 144.9507"],"type":"scatter","mode":"markers","marker":{"autocolorscale":false,"color":"rgba(0,139,139,1)","opacity":1,"size":7.559055118110237,"symbol":"diamond","line":{"width":1.8897637795275593,"color":"rgba(0,139,139,1)"}},"hoveron":"points","showlegend":false,"xaxis":"x","yaxis":"y","hoverinfo":"text","frame":null}],"layout":{"margin":{"t":43.762557077625573,"r":7.3059360730593621,"b":25.570776255707766,"l":43.105022831050235},"font":{"color":"rgba(0,0,0,1)","family":"","size":14.611872146118724},"title":{"text":"EMAE con predicciones del modelo manual y valores reales","font":{"color":"rgba(0,0,0,1)","family":"","size":17.534246575342465},"x":0,"xref":"paper"},"xaxis":{"domain":[0,1],"automargin":true,"type":"linear","autorange":false,"range":[18721.150000000001,19993.849999999999],"tickmode":"array","ticktext":["2022 ene.","2023 ene.","2024 ene."],"tickvals":[18993,19358,19723],"categoryorder":"array","categoryarray":["2022 ene.","2023 ene.","2024 ene."],"nticks":null,"ticks":"","tickcolor":null,"ticklen":3.6529680365296811,"tickwidth":0,"showticklabels":true,"tickfont":{"color":"rgba(77,77,77,1)","family":"","size":11.68949771689498},"tickangle":-0,"showline":false,"linecolor":null,"linewidth":0,"showgrid":true,"gridcolor":"rgba(235,235,235,1)","gridwidth":0.66417600664176002,"zeroline":false,"anchor":"y","title":{"text":"","font":{"color":"rgba(0,0,0,1)","family":"","size":14.611872146118724}},"hoverformat":".2f"},"yaxis":{"domain":[0,1],"automargin":true,"type":"linear","autorange":false,"range":[118.88467480874175,168.71748167920239],"tickmode":"array","ticktext":["120","130","140","150","160"],"tickvals":[120,130,140,150,160],"categoryorder":"array","categoryarray":["120","130","140","150","160"],"nticks":null,"ticks":"","tickcolor":null,"ticklen":3.6529680365296811,"tickwidth":0,"showticklabels":true,"tickfont":{"color":"rgba(77,77,77,1)","family":"","size":11.68949771689498},"tickangle":-0,"showline":false,"linecolor":null,"linewidth":0,"showgrid":true,"gridcolor":"rgba(235,235,235,1)","gridwidth":0.66417600664176002,"zeroline":false,"anchor":"x","title":{"text":"Indice (2004 = 100)","font":{"color":"rgba(0,0,0,1)","family":"","size":14.611872146118724}},"hoverformat":".2f"},"shapes":[{"type":"rect","fillcolor":null,"line":{"color":null,"width":0,"linetype":[]},"yref":"paper","xref":"paper","x0":0,"x1":1,"y0":0,"y1":1}],"showlegend":false,"legend":{"bgcolor":null,"bordercolor":null,"borderwidth":0,"font":{"color":"rgba(0,0,0,1)","family":"","size":11.68949771689498},"title":{"text":"level","font":{"color":"rgba(0,0,0,1)","family":"","size":14.611872146118724}}},"hovermode":"closest","barmode":"relative"},"config":{"doubleClick":"reset","modeBarButtonsToAdd":["hoverclosest","hovercompare"],"showSendToCloud":false},"source":"A","attrs":{"35f05bc15a4b":{"x":{},"y":{},"type":"scatter"},"35f01e5f21b7":{"x":{},"ymin":{},"ymax":{},"fill_ramp":{}},"35f03ce27ff8":{"x":{},"y":{}},"35f02c636bca":{"x":{},"ymin":{},"ymax":{},"fill_ramp":{}},"35f02e90367d":{"x":{},"y":{}},"35f07469263b":{"x":{},"y":{}},"35f047f5f6a":{"x":{},"y":{}}},"cur_data":"35f05bc15a4b","visdat":{"35f05bc15a4b":["function (y) ","x"],"35f01e5f21b7":["function (y) ","x"],"35f03ce27ff8":["function (y) ","x"],"35f02c636bca":["function (y) ","x"],"35f02e90367d":["function (y) ","x"],"35f07469263b":["function (y) ","x"],"35f047f5f6a":["function (y) ","x"]},"highlight":{"on":"plotly_click","persistent":false,"dynamic":false,"selectize":false,"opacityDim":0.20000000000000001,"selected":{"opacity":1},"debounce":0},"shinyEvents":["plotly_hover","plotly_click","plotly_selected","plotly_relayout","plotly_brushed","plotly_brushing","plotly_clickannotation","plotly_doubleclick","plotly_deselect","plotly_afterplot","plotly_sunburstclick"],"base_url":"https://plot.ly"},"evals":[],"jsHooks":[]}</script>
<div id="medidas-de-error" class="section level2">
<h2>Medidas de error</h2>
<p>Para evaluar y comparar las predicciones de nuestros modelos
utilizaremos el <strong>MAPE (Mean Absolute Percentage Error)</strong>.
Este representa el promedio del error absoluto en términos porcentuales
respecto a los valores reales, indica, en promedio, cuánto se desvió
porcentualmente el modelo de los valores reales.</p>
<p>La fórmula del MAPE es:</p>
<p><span class="math display">\[
MAPE = \frac{1}{M} \sum_{l=1}^M \left| \frac{e_l}{Z_{n+l}} \right|
\times 100
\]</span> Donde:</p>
<ul>
<li><span class="math inline">\(e_l =Z_{n+l} - \hat{z_n(l)}\)</span>
error de la predicción.</li>
</ul>
<p>Un MAPE bajo indica un buen rendimiento, pero esta métrica puede ser
sensible a valores reales cercanos a cero, lo que puede inflar el
porcentaje de error, por esto la acompañaremos con el <strong>MSE (Mean
Square Error)</strong>.</p>
<p>Utilizamos las funciones <strong>MAPE</strong> y <strong>MSE</strong>
de la libreria <em>MLmetrics</em></p>
<div class="sourceCode" id="cb17"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb17-1"><a href="#cb17-1" tabindex="-1"></a>mape_auto <span class="ot">&lt;-</span> <span class="fu">round</span>(<span class="fu">MAPE</span>(<span class="at">y_pred =</span> values_to_predict, <span class="at">y_true =</span> f1<span class="sc">$</span>.mean)<span class="sc">*</span><span class="dv">100</span>,<span class="dv">2</span>)</span>
<span id="cb17-2"><a href="#cb17-2" tabindex="-1"></a>mse_auto <span class="ot">&lt;-</span> <span class="fu">MSE</span>(<span class="at">y_pred =</span> values_to_predict, <span class="at">y_true =</span> f1<span class="sc">$</span>.mean)</span>
<span id="cb17-3"><a href="#cb17-3" tabindex="-1"></a>mape_manual <span class="ot">&lt;-</span> <span class="fu">round</span>(<span class="fu">MAPE</span>(<span class="at">y_pred =</span> values_to_predict, <span class="at">y_true =</span> f2<span class="sc">$</span>.mean)<span class="sc">*</span><span class="dv">100</span>,<span class="dv">2</span>)</span>
<span id="cb17-4"><a href="#cb17-4" tabindex="-1"></a>mse_manual <span class="ot">&lt;-</span> <span class="fu">MSE</span>(<span class="at">y_pred =</span> values_to_predict, <span class="at">y_true =</span> f2<span class="sc">$</span>.mean)</span>
<span id="cb17-5"><a href="#cb17-5" tabindex="-1"></a></span>
<span id="cb17-6"><a href="#cb17-6" tabindex="-1"></a>metricas <span class="ot">&lt;-</span> <span class="fu">data.frame</span>(</span>
<span id="cb17-7"><a href="#cb17-7" tabindex="-1"></a>  <span class="at">Modelo =</span> <span class="fu">c</span>(<span class="st">&quot;Automático&quot;</span>, <span class="st">&quot;Manual&quot;</span>),</span>
<span id="cb17-8"><a href="#cb17-8" tabindex="-1"></a>  <span class="at">MAPE =</span> <span class="fu">c</span>(mape_auto, mape_manual),</span>
<span id="cb17-9"><a href="#cb17-9" tabindex="-1"></a>  <span class="at">MSE =</span> <span class="fu">c</span>(mse_auto, mse_manual)</span>
<span id="cb17-10"><a href="#cb17-10" tabindex="-1"></a>)</span>
<span id="cb17-11"><a href="#cb17-11" tabindex="-1"></a></span>
<span id="cb17-12"><a href="#cb17-12" tabindex="-1"></a><span class="co"># Mostrar como tabla con kable</span></span>
<span id="cb17-13"><a href="#cb17-13" tabindex="-1"></a><span class="fu">kable</span>(metricas, </span>
<span id="cb17-14"><a href="#cb17-14" tabindex="-1"></a>      <span class="at">col.names =</span> <span class="fu">c</span>(<span class="st">&quot;Modelo&quot;</span>, <span class="st">&quot;MAPE&quot;</span>, <span class="st">&quot;MSE&quot;</span>), </span>
<span id="cb17-15"><a href="#cb17-15" tabindex="-1"></a>      <span class="at">caption =</span> <span class="st">&quot;Metricas para comparar modelos&quot;</span>, </span>
<span id="cb17-16"><a href="#cb17-16" tabindex="-1"></a>      <span class="at">format =</span> <span class="st">&quot;html&quot;</span>, </span>
<span id="cb17-17"><a href="#cb17-17" tabindex="-1"></a>      <span class="at">table.attr =</span> <span class="st">&quot;class=&#39;table table-striped&#39;&quot;</span>) <span class="sc">%&gt;%</span></span>
<span id="cb17-18"><a href="#cb17-18" tabindex="-1"></a>  <span class="fu">kable_styling</span>() <span class="sc">%&gt;%</span></span>
<span id="cb17-19"><a href="#cb17-19" tabindex="-1"></a>  <span class="fu">row_spec</span>(<span class="dv">0</span>, <span class="at">bold =</span> T) <span class="sc">%&gt;%</span></span>
<span id="cb17-20"><a href="#cb17-20" tabindex="-1"></a>  <span class="fu">row_spec</span>(<span class="dv">1</span>, <span class="at">bold =</span> T, <span class="at">background =</span> <span class="st">&quot;#9933CC&quot;</span>, <span class="at">color =</span> <span class="st">&quot;white&quot;</span>) <span class="sc">%&gt;%</span></span>
<span id="cb17-21"><a href="#cb17-21" tabindex="-1"></a>  <span class="fu">row_spec</span>(<span class="dv">2</span>, <span class="at">bold =</span> T, <span class="at">background =</span> <span class="st">&quot;#009933&quot;</span>, <span class="at">color =</span> <span class="st">&quot;white&quot;</span>)</span></code></pre></div>
<table class="table table-striped table" style="color: black; margin-left: auto; margin-right: auto;">
<caption>
Metricas para comparar modelos
</caption>
<thead>
<tr>
<th style="text-align:left;font-weight: bold;">
Modelo
</th>
<th style="text-align:right;font-weight: bold;">
MAPE
</th>
<th style="text-align:right;font-weight: bold;">
MSE
</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:left;font-weight: bold;color: white !important;background-color: rgba(153, 51, 204, 255) !important;">
Automático
</td>
<td style="text-align:right;font-weight: bold;color: white !important;background-color: rgba(153, 51, 204, 255) !important;">
2.21
</td>
<td style="text-align:right;font-weight: bold;color: white !important;background-color: rgba(153, 51, 204, 255) !important;">
14.11543
</td>
</tr>
<tr>
<td style="text-align:left;font-weight: bold;color: white !important;background-color: rgba(0, 153, 51, 255) !important;">
Manual
</td>
<td style="text-align:right;font-weight: bold;color: white !important;background-color: rgba(0, 153, 51, 255) !important;">
2.05
</td>
<td style="text-align:right;font-weight: bold;color: white !important;background-color: rgba(0, 153, 51, 255) !important;">
12.53922
</td>
</tr>
</tbody>
</table>
<p>Obervando estas metricas podemos decir que ambos modelos muestran un
excelente ajuste a los datos originales. En promedio, los modelos se
equivocan en apenas por encima del 2% al realizar predicciones, lo cual
nos habla de una gran precisión predictiva. Podemos decir que
cualquiermodelo es confiables para la predicción, siendo el modelo
identificado “a ojo” más preciso y más parsimonioso.</p>
<p>Es importante destacar que, si bien estamos prediciendo valores
desconocidos para la serie, estos no son desconocidos para nosotros.
Podríamos haber entrenado el modelo utilizando datos hasta agosto de
2024 y realizar predicciones para los valores futuros del EMAE.</p>
<p>Tambien tenemos que notar las medidas de error excepcionalmente
pequeñas, esto pueden ser un indicio de sobreajuste, es decir, que el
modelo se ajusta demasiado a las particularidades del conjunto de datos
de entrenamiento y pierde capacidad de generalización. Para no correr
este riesgo, podriamos recurrir a diversas técnica como la division de
nuestros datos en entrenamiento y testeo o la validación cruzada.</p>
</div>
</div>
<div id="discusión" class="section level1">
<h1>Discusión</h1>
<p>Como vimos en la sección anterior, el modelo con mejor desempeño en
términos de predicción fue el <span
class="math inline">\(SARIMA(1,0,0)(2,1,0)_{12}\)</span> estimado
manualmente. Sin embargo, si nos remitimos a la comprobación de
supuestos presentada en la sección <a
href="#id_%20Diagnóstico%20del%20modelo">Diagnóstico del modelo</a>,
podemos recordar que este modelo no cumple completamente con el supuesto
de errores incorrelados. Por ello, resulta razonable inclinarse por el
modelo <span class="math inline">\(SARIMA(0,1,2)(2,1,2)_{12}\)</span>
ajustado automáticamente, el cual, aunque tenga un rendimiento
predictivo ligeramente inferior, respeta los supuestos fundamentales del
análisis.</p>
<p>En un contexto donde la ciencia de datos y las técnicas modernas como
el machine learning están en auge, es común que ciertos detalles
estadísticos, como la verificación de supuestos, sean pasados por alto.
Sin embargo, es crucial recordar que estas técnicas están profundamente
enraizadas en la estadística, y que una interpretación sólida requiere
no solo optimizar la predicción, sino también mantener un análisis
crítico y respetar las bases que sustentan nuestros modelos. Este
enfoque no solo asegura resultados más confiables, sino que también
contribuye a la robustez y replicabilidad de nuestras conclusiones.</p>
</div>
<div id="bibliografia" class="section level1">
<h1>Bibliografia</h1>
<p>Tanto en la cátedra como en este trabajo nos basamos el los
libros:</p>
<ul>
<li><p><a href="https://otexts.com/fpp3/">Forecasting: Principles and
Practice (3rd ed)</a> de Rob J Hyndman and George
Athanasopoulos</p></li>
<li><p>Time Series Analysis: Univariate and Multivariate Methods (2nd
er) de Wiliam Wei</p></li>
</ul>
</div>
</div>

<div class="col-xs-2">

<div class = "btn-toolbar">
<div class="btn-group">
<a class="btn btn-raised btn-sm dropdown-toggle" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false" href="#"><span>Code</span> <span class="caret"></span></a>
<ul class="dropdown-menu" style="min-width: 50px;">

<li><a id="rmd-show-all-code" href="#">Show All Code</a></li>
<li><a id="rmd-hide-all-code" href="#">Hide All Code</a></li>

</ul>
</div>
</div>

</div>
</div>
	


</div>
</div>

 <script>
    $(document).ready(function () {
	// add bootstrap table styles to pandoc tables
	$('tr.header').parent('thead').parent('table').addClass('table table-striped table-hover');
	
		var images = $('.pages img');
	images.filter(function() {
	    if ($(this).parent().attr("class") == "figure") {
		return(false)
	    } else {
		return(true);
	    }
	}).wrap("<div class='figure'></div>");
	images.addClass("image-thumb").wrap("<div class='panel-body'></div>");
	$('.figure p.caption').wrap("<div class='panel-footer'></div>");
	$('.figure').addClass('panel panel-default');
	
		$('.pages img').addClass("image-lb");
	$('.pages').magnificPopup({
	    type:'image',
	    closeOnContentClick: false,
	    closeBtnInside: false,
            delegate: '.image-lb',
	    gallery: {enabled: false },
            removalDelay: 500,
            callbacks: {
		beforeOpen: function() {
                    // just a hack that adds mfp-anim class to markup
                    this.st.image.markup = this.st.image.markup.replace('mfp-figure', 'mfp-figure mfp-with-anim');
		}
            },
            mainClass: 'mfp-move-from-top',
	    image: {
	        verticalFit: true,
		titleSrc: 'alt'
	    }
 	});
 	
	  
	$('#toc ul li').first().addClass("active");
	$('#toc ul li').attr("data-target", function() {
            return($(this).children("a").attr("href"));
	})
	$('body .section.level1').first().addClass("active");
	$('body .section.level1').not('.active').hide();
	
	$('#toc a[href*="#"], a[href^="#"]').not('.nav a[href^="#"]').click(function() {
	    var id = $(this).attr("href");
	    if (id === "#") return;
	    if (id.substring(0, 8) === "#dyntab-") return;
	    // Menu
	    var menu_entry = $(".menu li[data-target='"+id+"']");
	    if (menu_entry.length == 0) {
			window.location.hash = id;
			return;
	    }
	    menu_entry.addClass("active");
	    $(".menu li").not(menu_entry).removeClass("active"); 
	    toggle_page(id);
	});

	function toggle_page(id) {
	    $(".page").not(page).removeClass("active").hide();
	    window.page = id;
	    var page = $(window.page);
	    window.location.hash = window.page;
	    //$(this).addClass("active");
	    page.show();

	    var totop = setInterval(function () {
		$(".pages").animate({scrollTop: 0}, 0);
	    }, 10);

	    setTimeout(function () {
			page.addClass("active");
			setTimeout(function () {
		    	clearInterval(totop);
			}, 1000);
	    }, 100);
	    
	    window.dispatchEvent(new Event('resize'));
	}


	$(".menu li").click(function () {
	    toggle_page($(this).data("target"));
	    // Menu
	    if (!$(this).data("target")) return;
	    if ($(this).is(".active")) return;
	    $(".menu li").not($(this)).removeClass("active");
	    $(this).addClass("active");
	});
  
	  
	window.page = window.location.hash;
	if (window.page != "") {
	    $(".menu").find("li[data-target='" + window.page + "']").trigger("click");
	}
	/* init material bootstrap js */
	$.material.init();
    });
 </script>


  <!-- dynamically load mathjax for compatibility with self-contained -->
 <script>
   (function () {
       var script = document.createElement("script");
       script.type = "text/javascript";
       script.src  = "https://mathjax.rstudio.com/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML";
       document.getElementsByTagName("head")[0].appendChild(script);
   })();
 </script>
 
</body>
</html>
